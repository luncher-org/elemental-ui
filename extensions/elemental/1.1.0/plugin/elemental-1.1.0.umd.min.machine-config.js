(("undefined"!==typeof self?self:this)["webpackJsonpelemental_1_1_0"]=("undefined"!==typeof self?self:this)["webpackJsonpelemental_1_1_0"]||[]).push([[4],{"0461":function(e,t,s){"use strict";s.r(t);var n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("h2",{directives:[{name:"t",rawName:"v-t",value:"elemental.clusterGroup.selector.label",expression:"'elemental.clusterGroup.selector.label'"}],staticClass:"mt-20 mb-20"}),s("MatchExpressions",{attrs:{mode:e.mode,type:e.elementalType,value:e.expressions,"show-remove":!1,"keys-select-options":e.machineInventorySelectorKeyOptions},on:{input:function(t){return e.matchChanged(t)}}}),e.matchingMachineInventories?s("Banner",{attrs:{color:e.matchingMachineInventories.isNone||e.matchingMachineInventories.isAll?"warning":"success"}},[e.matchingMachineInventories.isAll?s("span",{domProps:{innerHTML:e._s(e.t("elemental.clusterGroup.selector.matchesAll",e.matchingMachineInventories))}}):e.matchingMachineInventories.isNone?s("span",{domProps:{innerHTML:e._s(e.t("elemental.clusterGroup.selector.matchesNone",e.matchingMachineInventories))}}):s("span",{domProps:{innerHTML:e._s(e.t("elemental.clusterGroup.selector.matchesSome",e.matchingMachineInventories))}})]):e._e()],1)},a=[],l=s("711b"),c=s("305c"),i=s("6418"),o=s("e24b"),r=s("2879"),h=s("05ca"),p=s.n(h),m=s("c41f"),u={components:{MatchExpressions:l["a"],Banner:i["a"]},mixins:[c["a"]],async fetch(){this.machineInventories=await this.$store.dispatch("management/findAll",{type:m["c"].MACHINE_INVENTORIES}),this.machineInventorySelectorKeyOptions=this.getUniqueLabels(this.machineInventories).map(e=>({label:e,value:e})),this.updateMatchingMachineInventories()},data(){var e,t,s;null!==(e=this.value.spec)&&void 0!==e&&null!==(t=e.template)&&void 0!==t&&null!==(s=t.spec)&&void 0!==s&&s.selector||(this.value.spec.template.spec=this.value.spec.template.spec||{},this.value.spec.template.spec.selector={matchExpressions:[],matchLabels:{}});const n=this.$store.getters["elemental/createClusterElements"];var a,l,c,i;n.length&&(this.value.spec.template.spec.selector.matchExpressions.push({key:"create-cluster-selector",operator:"In",values:[n[0].metadata.labels["create-cluster-selector"]]}),null!==(a=this.value.spec)&&void 0!==a&&null!==(l=a.template)&&void 0!==l&&null!==(c=l.spec)&&void 0!==c&&null!==(i=c.selector)&&void 0!==i&&i.matchLabels||(this.value.spec.template.spec.selector.matchLabels={}),this.value.spec.template.spec.selector.matchLabels["create-cluster-selector"]=n[0].metadata.labels["create-cluster-selector"],this.$store.dispatch("elemental/updateCreateClusterElements",[]));const o=Object(r["a"])(this.value.spec.template.spec.selector.matchLabels||{},this.value.spec.template.spec.selector.matchExpressions||[]);return{elementalType:m["b"],machineInventories:null,matchingMachineInventories:null,machineInventorySelectorKeyOptions:null,expressions:o}},methods:{set:o["i"],getUniqueLabels(e){const t=[];return e.forEach(e=>{var s,n;if(null!==(s=e.metadata)&&void 0!==s&&s.labels&&Object.keys(null===(n=e.metadata)||void 0===n?void 0:n.labels).length){var a;const s=Object.keys(null===(a=e.metadata)||void 0===a?void 0:a.labels);s.forEach(e=>{t.includes(e)||t.push(e)})}}),t},matchChanged(e){const{matchLabels:t,matchExpressions:s}=Object(r["c"])(e);Object(o["i"])(this,"expressions",e),Object(o["i"])(this,"value.spec.template.spec.selector.matchLabels",t),Object(o["i"])(this,"value.spec.template.spec.selector.matchExpressions",s),this.updateMatchingMachineInventories()},updateMatchingMachineInventories:p()((function(){var e;const t=this.machineInventories,s=Object(r["b"])(t,this.expressions),n=s.length||0,a=null===(e=s[0])||void 0===e?void 0:e.nameDisplay;this.matchingMachineInventories={matched:n,total:t.length,isAll:n===t.length,isNone:0===n,sample:a},this.$emit("updateMachineCount",n)}),250,{leading:!0})}},v=u,d=s("d802"),b=Object(d["a"])(v,n,a,!1,null,null,null);t["default"]=b.exports}}]);
//# sourceMappingURL=elemental-1.1.0.umd.min.machine-config.js.map