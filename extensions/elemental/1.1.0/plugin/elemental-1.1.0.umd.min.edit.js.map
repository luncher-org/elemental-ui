{"version":3,"sources":["webpack://elemental-1.1.0/./edit/elemental.cattle.io.managedosversionchannel.vue?8497","webpack://elemental-1.1.0/edit/elemental.cattle.io.managedosversionchannel.vue","webpack://elemental-1.1.0/./edit/elemental.cattle.io.managedosversionchannel.vue?6c9d","webpack://elemental-1.1.0/./edit/elemental.cattle.io.managedosversionchannel.vue","webpack://elemental-1.1.0/./edit/elemental.cattle.io.machineregistration.vue?e2c8","webpack://elemental-1.1.0/edit/elemental.cattle.io.machineregistration.vue","webpack://elemental-1.1.0/./edit/elemental.cattle.io.machineregistration.vue?9fb7","webpack://elemental-1.1.0/./edit/elemental.cattle.io.machineregistration.vue","webpack://elemental-1.1.0/./edit/elemental.cattle.io.managedosimage.vue?d526","webpack://elemental-1.1.0/edit/elemental.cattle.io.managedosimage.vue","webpack://elemental-1.1.0/./edit/elemental.cattle.io.managedosimage.vue?2e45","webpack://elemental-1.1.0/./edit/elemental.cattle.io.managedosimage.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","value","attrs","doneRoute","mode","errors","on","e","save","done","staticClass","_v","_s","t","model","callback","$$v","expression","spec","options","$set","trim","_e","staticRenderFns","name","components","Loading","LabeledInput","CruResource","NameNsDescription","mixins","props","type","required","component","isFormValid","class","hasBeenCreated","ref","editorMode","cloudConfig","isView","onFileSelected","_l","err","i","key","domProps","machineInventoryLabels","$event","updateLabels","machineInventoryAnnotations","setAnnotations","labels","setLabels","annotations","YamlEditor","KeyValue","Banner","FileSelector","Tabbed","Tab","data","yamlErrors","watch","handler","immediate","computed","isCreate","methods","saveCb","Object","keyPrefixLengthExceeded","keyNameLengthExceeded","keyLengthExceeded","labelLengthExceeded","clusterTargetOptions","handleClusterTargetChange","clusterTargets","useManagedOsImages","managedOSVersionOptions","handleManagedOSVersionNameChange","osVersionSelected","STRING_SEPARATOR","LabeledSelect","RadioGroup","hash","targetsArray","elementalClusters","osGroups","osVersions","osVersionChannels","label","out","kind","versions","clusterName"],"mappings":"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","file":"elemental-1.1.0.umd.min.edit.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (!_vm.value)?_c('Loading'):_c('CruResource',{attrs:{\"done-route\":_vm.doneRoute,\"can-yaml\":true,\"mode\":_vm.mode,\"resource\":_vm.value,\"errors\":_vm.errors},on:{\"error\":function (e){ return _vm.errors = e; },\"finish\":_vm.save,\"cancel\":_vm.done}},[_c('div',{staticClass:\"row mt-40 mb-20\"},[_c('div',{staticClass:\"col span-12 mb-20\"},[_c('h3',[_vm._v(_vm._s(_vm.t('elemental.osversionchannels.create.configuration')))]),_c('NameNsDescription',{attrs:{\"mode\":_vm.mode,\"description-hidden\":true,\"namespaced\":false},model:{value:(_vm.value),callback:function ($$v) {_vm.value=$$v},expression:\"value\"}})],1)]),(_vm.value.spec)?_c('div',{staticClass:\"row mb-20\"},[_c('div',{staticClass:\"col span-6 mb-20\"},[_c('h3',[_vm._v(_vm._s(_vm.t('elemental.osversionchannels.create.spec')))]),_c('LabeledInput',{attrs:{\"data-testid\":\"os-version-channel-path\",\"label\":_vm.t('elemental.osversionchannels.create.registryUri.label'),\"placeholder\":_vm.t('elemental.osversionchannels.create.registryUri.placeholder', null, true),\"mode\":_vm.mode},model:{value:(_vm.value.spec.options.image),callback:function ($$v) {_vm.$set(_vm.value.spec.options, \"image\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"value.spec.options.image\"}})],1)]):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nimport Loading from '@shell/components/Loading.vue';\nimport CruResource from '@shell/components/CruResource.vue';\nimport CreateEditView from '@shell/mixins/create-edit-view';\nimport { LabeledInput } from '@components/Form/LabeledInput';\nimport NameNsDescription from '@shell/components/form/NameNsDescription';\n\nexport default {\n  name:       'ManagedOsVersionChannelEditView',\n  components: {\n    Loading, LabeledInput, CruResource, NameNsDescription\n  },\n  mixins:     [CreateEditView],\n  props:      {\n    value: {\n      type:     Object,\n      required: true\n    },\n    mode: {\n      type:     String,\n      required: true\n    }\n  }\n};\n</script>\n\n<template>\n  <Loading v-if=\"!value\" />\n  <CruResource\n    v-else\n    :done-route=\"doneRoute\"\n    :can-yaml=\"true\"\n    :mode=\"mode\"\n    :resource=\"value\"\n    :errors=\"errors\"\n    @error=\"e=>errors = e\"\n    @finish=\"save\"\n    @cancel=\"done\"\n  >\n    <div class=\"row mt-40 mb-20\">\n      <div class=\"col span-12 mb-20\">\n        <h3>{{ t('elemental.osversionchannels.create.configuration') }}</h3>\n        <NameNsDescription v-model=\"value\" :mode=\"mode\" :description-hidden=\"true\" :namespaced=\"false\" />\n      </div>\n    </div>\n    <div v-if=\"value.spec\" class=\"row mb-20\">\n      <div class=\"col span-6 mb-20\">\n        <h3>{{ t('elemental.osversionchannels.create.spec') }}</h3>\n        <LabeledInput\n          v-model.trim=\"value.spec.options.image\"\n          data-testid=\"os-version-channel-path\"\n          :label=\"t('elemental.osversionchannels.create.registryUri.label')\"\n          :placeholder=\"t('elemental.osversionchannels.create.registryUri.placeholder', null, true)\"\n          :mode=\"mode\"\n        />\n      </div>\n    </div>\n  </CruResource>\n</template>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./elemental.cattle.io.managedosversionchannel.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./elemental.cattle.io.managedosversionchannel.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./elemental.cattle.io.managedosversionchannel.vue?vue&type=template&id=55985480&\"\nimport script from \"./elemental.cattle.io.managedosversionchannel.vue?vue&type=script&lang=js&\"\nexport * from \"./elemental.cattle.io.managedosversionchannel.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (!_vm.value)?_c('Loading'):_c('CruResource',{attrs:{\"done-route\":_vm.doneRoute,\"can-yaml\":true,\"mode\":_vm.mode,\"resource\":_vm.value,\"errors\":_vm.errors,\"validation-passed\":_vm.isFormValid},on:{\"error\":function (e){ return _vm.errors = e; },\"finish\":_vm.save,\"cancel\":_vm.done}},[_c('div',{staticClass:\"row mb-40\",class:{'mt-40': !_vm.hasBeenCreated }},[_c('div',{staticClass:\"col span-12\"},[_c('h3',[_vm._v(_vm._s(_vm.t('elemental.machineRegistration.create.configuration')))]),_c('NameNsDescription',{attrs:{\"mode\":_vm.mode,\"description-hidden\":true,\"namespaced\":false},model:{value:(_vm.value),callback:function ($$v) {_vm.value=$$v},expression:\"value\"}})],1)]),_c('div',{staticClass:\"row mb-20\"},[_c('div',{staticClass:\"col span-6\"},[_c('h3',[_vm._v(_vm._s(_vm.t('elemental.machineRegistration.create.cloudConfiguration')))]),_c('YamlEditor',{ref:\"yamleditor\",staticClass:\"mb-20\",attrs:{\"editor-mode\":_vm.editorMode},model:{value:(_vm.cloudConfig),callback:function ($$v) {_vm.cloudConfig=$$v},expression:\"cloudConfig\"}}),(!_vm.isView)?_c('div',{staticClass:\"mb-20\"},[_c('FileSelector',{staticClass:\"btn role-secondary\",attrs:{\"data-testid\":\"read-from-file-btn\",\"label\":_vm.t('elemental.machineRegistration.create.readFromFile')},on:{\"selected\":_vm.onFileSelected}})],1):_vm._e(),_vm._l((_vm.yamlErrors),function(err,i){return _c('Banner',{key:i,attrs:{\"color\":\"error\",\"label\":err}})})],2)]),_c('div',{staticClass:\"row mb-40\"},[_c('div',{staticClass:\"col span-12\"},[_c('h3',{staticClass:\"mt-10\"},[_vm._v(\" \"+_vm._s(_vm.t('elemental.machineRegistration.create.labelsAndAnnotations'))+\" \")]),_c('Tabbed',{attrs:{\"data-testid\":\"labels-and-annotations-block\"}},[_c('Tab',{attrs:{\"label-key\":\"elemental.machineRegistration.create.machineInv\",\"name\":\"machine-inventory\",\"data-testid\":\"mach-inv-tab\",\"weight\":3}},[_c('Banner',{staticClass:\"mb-40\",attrs:{\"color\":\"info\",\"data-testid\":\"mach-inv-banner\"},domProps:{\"innerHTML\":_vm._s(_vm.t('elemental.machineRegistration.create.labelsAndAnnotationsMachInvBanner', {}, true))}}),_c('div',{staticClass:\"row mb-30\"},[_c('KeyValue',{key:\"labels\",attrs:{\"data-testid\":\"add-label-mach-inv\",\"value\":_vm.value.machineInventoryLabels,\"add-label\":_vm.t('labels.addLabel'),\"mode\":_vm.mode,\"title\":_vm.t('labels.labels.title'),\"read-allowed\":false,\"value-can-be-empty\":true},on:{\"input\":function($event){return _vm.updateLabels($event)}}})],1),_c('div',{staticClass:\"row mb-10\"},[_c('KeyValue',{key:\"annotations\",attrs:{\"data-testid\":\"add-annotation-mach-inv\",\"value\":_vm.value.machineInventoryAnnotations,\"add-label\":_vm.t('labels.addAnnotation'),\"mode\":_vm.mode,\"title\":_vm.t('labels.annotations.title'),\"read-allowed\":false,\"value-can-be-empty\":true},on:{\"input\":function($event){return _vm.value.setAnnotations($event, 'machineInventoryAnnotations', true)}}})],1)],1),_c('Tab',{attrs:{\"label-key\":\"elemental.machineRegistration.create.machineReg\",\"name\":\"machine-reg\",\"data-testid\":\"mach-reg-tab\",\"weight\":2}},[_c('Banner',{staticClass:\"mb-40\",attrs:{\"color\":\"info\",\"data-testid\":\"mach-reg-banner\"},domProps:{\"innerHTML\":_vm._s(_vm.t('elemental.machineRegistration.create.labelsAndAnnotationsMachRegBanner', {}, true))}}),_c('div',{staticClass:\"row mb-30\"},[_c('KeyValue',{key:\"labels\",attrs:{\"data-testid\":\"add-label-mach-reg\",\"value\":_vm.value.labels,\"add-label\":_vm.t('labels.addLabel'),\"mode\":_vm.mode,\"title\":_vm.t('labels.labels.title'),\"read-allowed\":false,\"value-can-be-empty\":true},on:{\"input\":function($event){return _vm.value.setLabels($event)}}})],1),_c('div',{staticClass:\"row mb-10\"},[_c('KeyValue',{key:\"annotations\",attrs:{\"data-testid\":\"add-annotation-mach-reg\",\"value\":_vm.value.annotations,\"add-label\":_vm.t('labels.addAnnotation'),\"mode\":_vm.mode,\"title\":_vm.t('labels.annotations.title'),\"read-allowed\":false,\"value-can-be-empty\":true},on:{\"input\":function($event){return _vm.value.setAnnotations($event)}}})],1)],1)],1)],1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nimport Loading from '@shell/components/Loading.vue';\nimport CruResource from '@shell/components/CruResource.vue';\nimport CreateEditView from '@shell/mixins/create-edit-view';\nimport { Banner } from '@components/Banner';\nimport YamlEditor, { EDITOR_MODES } from '@shell/components/YamlEditor';\nimport FileSelector from '@shell/components/form/FileSelector';\nimport KeyValue from '@shell/components/form/KeyValue';\nimport NameNsDescription from '@shell/components/form/NameNsDescription';\n\nimport jsyaml from 'js-yaml';\nimport { saferDump } from '@shell/utils/create-yaml';\nimport { _CREATE, _EDIT } from '@shell/config/query-params';\nimport { exceptionToErrorsArray } from '@shell/utils/error';\n\nimport Tabbed from '@shell/components/Tabbed/index.vue';\nimport Tab from '@shell/components/Tabbed/Tab.vue';\n\nexport default {\n  name:       'MachineRegistrationEditView',\n  components: {\n    Loading,\n    CruResource,\n    YamlEditor,\n    KeyValue,\n    Banner,\n    FileSelector,\n    NameNsDescription,\n    Tabbed,\n    Tab\n  },\n  mixins:     [CreateEditView],\n  props:      {\n    value: {\n      type:     Object,\n      required: true\n    },\n    mode: {\n      type:     String,\n      required: true\n    },\n  },\n  data() {\n    return {\n      cloudConfig: typeof this.value.spec === 'string' ? this.value.spec : saferDump(this.value.spec),\n      yamlErrors:  null,\n      isFormValid: true\n    };\n  },\n  watch: {\n    cloudConfig: {\n      handler(neu) {\n        try {\n          const parsed = jsyaml.load(neu);\n\n          this.value.spec = parsed;\n          this.yamlErrors = null;\n        } catch (e) {\n          this.yamlErrors = exceptionToErrorsArray(e);\n        }\n      },\n      immediate: true\n    }\n  },\n  computed: {\n    isCreate() {\n      return this.mode === _CREATE;\n    },\n    isView() {\n      return this.mode !== _CREATE && this.mode !== _EDIT;\n    },\n    editorMode() {\n      if (!this.isView) {\n        return EDITOR_MODES.EDIT_CODE;\n      }\n\n      return EDITOR_MODES.VIEW_CODE;\n    },\n    hasBeenCreated() {\n      return !!this.value.id;\n    }\n  },\n  methods: {\n    async save(saveCb) {\n      this.errors = [];\n      try {\n        await this.value.save();\n        saveCb(true);\n\n        if (this.isCreate) {\n          this.$router.replace(this.value.detailLocation);\n        } else {\n          this.done();\n        }\n      } catch (err) {\n        this.errors = exceptionToErrorsArray(err);\n        saveCb(false);\n      }\n    },\n    updateLabels(ev) {\n      this.value.setLabels(ev, 'machineInventoryLabels', true);\n      let keyLengthExceeded = false;\n      let keyPrefixLengthExceeded = false;\n      let keyNameLengthExceeded = false;\n      let labelLengthExceeded = false;\n\n      this.errors = [];\n\n      if (this.value.spec.machineInventoryLabels && Object.keys(this.value.spec.machineInventoryLabels).length) {\n        Object.keys(this.value.spec.machineInventoryLabels).forEach((key) => {\n          // check length of \"key\" in key-value\n          if (key.includes('/')) {\n            const prefix = key.split('/')[0];\n            const name = key.split('/')[1];\n\n            if (prefix.length > 253) {\n              keyPrefixLengthExceeded = true;\n            }\n\n            if (name.length > 63) {\n              keyNameLengthExceeded = true;\n            }\n          } else if (key.length > 63) {\n            keyLengthExceeded = true;\n          }\n\n          // check length of \"value\" in key-value\n          if (this.value.spec.machineInventoryLabels[key].length > 63) {\n            labelLengthExceeded = true;\n          }\n        });\n      }\n\n      if (labelLengthExceeded || keyLengthExceeded || keyPrefixLengthExceeded || keyNameLengthExceeded) {\n        if (labelLengthExceeded) {\n          this.isFormValid = false;\n          this.errors.push(this.t('elemental.machineRegistration.validation.machineInventoryLabelValueLength'));\n        }\n        if (keyLengthExceeded) {\n          this.isFormValid = false;\n          this.errors.push(this.t('elemental.machineRegistration.validation.machineInventoryLabelKeyLength'));\n        }\n        if (keyPrefixLengthExceeded) {\n          this.isFormValid = false;\n          this.errors.push(this.t('elemental.machineRegistration.validation.machineInventoryLabelKeyPrefixLength'));\n        }\n        if (keyNameLengthExceeded) {\n          this.isFormValid = false;\n          this.errors.push(this.t('elemental.machineRegistration.validation.machineInventoryLabelKeyNameLength'));\n        }\n      } else {\n        this.isFormValid = true;\n      }\n    },\n    onFileSelected(value) {\n      const component = this.$refs.yamleditor;\n\n      if (component) {\n        component.updateValue(value);\n      }\n    },\n  },\n};\n</script>\n\n<template>\n  <Loading v-if=\"!value\" />\n  <CruResource\n    v-else\n    :done-route=\"doneRoute\"\n    :can-yaml=\"true\"\n    :mode=\"mode\"\n    :resource=\"value\"\n    :errors=\"errors\"\n    :validation-passed=\"isFormValid\"\n    @error=\"e=>errors = e\"\n    @finish=\"save\"\n    @cancel=\"done\"\n  >\n    <div\n      class=\"row mb-40\"\n      :class=\"{'mt-40': !hasBeenCreated }\"\n    >\n      <div class=\"col span-12\">\n        <h3>{{ t('elemental.machineRegistration.create.configuration') }}</h3>\n        <NameNsDescription\n          v-model=\"value\"\n          :mode=\"mode\"\n          :description-hidden=\"true\"\n          :namespaced=\"false\"\n        />\n      </div>\n    </div>\n    <div class=\"row mb-20\">\n      <div class=\"col span-6\">\n        <h3>{{ t('elemental.machineRegistration.create.cloudConfiguration') }}</h3>\n        <YamlEditor\n          ref=\"yamleditor\"\n          v-model=\"cloudConfig\"\n          class=\"mb-20\"\n          :editor-mode=\"editorMode\"\n        />\n        <div\n          v-if=\"!isView\"\n          class=\"mb-20\"\n        >\n          <FileSelector\n            class=\"btn role-secondary\"\n            data-testid=\"read-from-file-btn\"\n            :label=\"t('elemental.machineRegistration.create.readFromFile')\"\n            @selected=\"onFileSelected\"\n          />\n        </div>\n        <Banner\n          v-for=\"(err, i) in yamlErrors\"\n          :key=\"i\"\n          color=\"error\"\n          :label=\"err\"\n        />\n      </div>\n    </div>\n    <div class=\"row mb-40\">\n      <div class=\"col span-12\">\n        <h3 class=\"mt-10\">\n          {{ t('elemental.machineRegistration.create.labelsAndAnnotations') }}\n        </h3>\n        <Tabbed data-testid=\"labels-and-annotations-block\">\n          <Tab\n            label-key=\"elemental.machineRegistration.create.machineInv\"\n            name=\"machine-inventory\"\n            data-testid=\"mach-inv-tab\"\n            :weight=\"3\"\n          >\n            <Banner\n              class=\"mb-40\"\n              color=\"info\"\n              data-testid=\"mach-inv-banner\"\n              v-html=\"t('elemental.machineRegistration.create.labelsAndAnnotationsMachInvBanner', {}, true)\"\n            />\n            <div class=\"row mb-30\">\n              <KeyValue\n                key=\"labels\"\n                data-testid=\"add-label-mach-inv\"\n                :value=\"value.machineInventoryLabels\"\n                :add-label=\"t('labels.addLabel')\"\n                :mode=\"mode\"\n                :title=\"t('labels.labels.title')\"\n                :read-allowed=\"false\"\n                :value-can-be-empty=\"true\"\n                @input=\"updateLabels($event)\"\n              />\n            </div>\n            <div class=\"row mb-10\">\n              <KeyValue\n                key=\"annotations\"\n                data-testid=\"add-annotation-mach-inv\"\n                :value=\"value.machineInventoryAnnotations\"\n                :add-label=\"t('labels.addAnnotation')\"\n                :mode=\"mode\"\n                :title=\"t('labels.annotations.title')\"\n                :read-allowed=\"false\"\n                :value-can-be-empty=\"true\"\n                @input=\"value.setAnnotations($event, 'machineInventoryAnnotations', true)\"\n              />\n            </div>\n          </Tab>\n          <Tab\n            label-key=\"elemental.machineRegistration.create.machineReg\"\n            name=\"machine-reg\"\n            data-testid=\"mach-reg-tab\"\n            :weight=\"2\"\n          >\n            <Banner\n              class=\"mb-40\"\n              color=\"info\"\n              data-testid=\"mach-reg-banner\"\n              v-html=\"t('elemental.machineRegistration.create.labelsAndAnnotationsMachRegBanner', {}, true)\"\n            />\n            <div class=\"row mb-30\">\n              <KeyValue\n                key=\"labels\"\n                data-testid=\"add-label-mach-reg\"\n                :value=\"value.labels\"\n                :add-label=\"t('labels.addLabel')\"\n                :mode=\"mode\"\n                :title=\"t('labels.labels.title')\"\n                :read-allowed=\"false\"\n                :value-can-be-empty=\"true\"\n                @input=\"value.setLabels($event)\"\n              />\n            </div>\n            <div class=\"row mb-10\">\n              <KeyValue\n                key=\"annotations\"\n                data-testid=\"add-annotation-mach-reg\"\n                :value=\"value.annotations\"\n                :add-label=\"t('labels.addAnnotation')\"\n                :mode=\"mode\"\n                :title=\"t('labels.annotations.title')\"\n                :read-allowed=\"false\"\n                :value-can-be-empty=\"true\"\n                @input=\"value.setAnnotations($event)\"\n              />\n            </div>\n          </Tab>\n        </Tabbed>\n      </div>\n    </div>\n  </CruResource>\n</template>\n\n<style lang=\"scss\" scoped>\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./elemental.cattle.io.machineregistration.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./elemental.cattle.io.machineregistration.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./elemental.cattle.io.machineregistration.vue?vue&type=template&id=181bd290&scoped=true&\"\nimport script from \"./elemental.cattle.io.machineregistration.vue?vue&type=script&lang=js&\"\nexport * from \"./elemental.cattle.io.machineregistration.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"181bd290\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (!_vm.value)?_c('Loading'):_c('CruResource',{attrs:{\"done-route\":_vm.doneRoute,\"can-yaml\":true,\"mode\":_vm.mode,\"resource\":_vm.value,\"errors\":_vm.errors},on:{\"error\":function (e){ return _vm.errors = e; },\"finish\":_vm.save,\"cancel\":_vm.done}},[_c('div',{staticClass:\"row mt-40 mb-20\"},[_c('div',{staticClass:\"col span-12 mb-20\"},[_c('h3',[_vm._v(_vm._s(_vm.t('elemental.osimage.create.configuration')))]),_c('NameNsDescription',{attrs:{\"mode\":_vm.mode,\"description-hidden\":true,\"namespaced\":false},model:{value:(_vm.value),callback:function ($$v) {_vm.value=$$v},expression:\"value\"}})],1)]),(_vm.value.spec)?_c('div',{staticClass:\"row mb-20\"},[_c('div',{staticClass:\"col span-6 mb-20\"},[_c('h3',[_vm._v(_vm._s(_vm.t('elemental.osimage.create.spec')))]),_c('LabeledSelect',{staticClass:\"mb-20\",attrs:{\"data-testid\":\"cluster-target\",\"label\":_vm.t('elemental.osimage.create.targetCluster.label'),\"placeholder\":_vm.t('elemental.osimage.create.targetCluster.placeholder', null, true),\"mode\":_vm.mode,\"options\":_vm.clusterTargetOptions,\"multiple\":true},on:{\"input\":function($event){return _vm.handleClusterTargetChange($event)}},model:{value:(_vm.clusterTargets),callback:function ($$v) {_vm.clusterTargets=$$v},expression:\"clusterTargets\"}}),_c('RadioGroup',{staticClass:\"mb-20\",attrs:{\"data-testid\":\"upgrade-choice-selector\",\"name\":\"os-image-mode\",\"options\":[true, false],\"labels\":[_vm.t('elemental.osimage.create.radioOptions.osImages'), _vm.t('elemental.osimage.create.radioOptions.registry')],\"mode\":_vm.mode},model:{value:(_vm.useManagedOsImages),callback:function ($$v) {_vm.useManagedOsImages=$$v},expression:\"useManagedOsImages\"}}),(_vm.useManagedOsImages)?_c('div',[_c('LabeledSelect',{attrs:{\"data-testid\":\"os-version-box\",\"mode\":_vm.mode,\"options\":_vm.managedOSVersionOptions,\"label-key\":\"elemental.osimage.create.managedOsImage.label\",\"placeholder\":_vm.t('elemental.osimage.create.managedOsImage.placeholder', null, true),\"option-key\":\"value\"},on:{\"input\":function($event){return _vm.handleManagedOSVersionNameChange($event)}},model:{value:(_vm.osVersionSelected),callback:function ($$v) {_vm.osVersionSelected=$$v},expression:\"osVersionSelected\"}})],1):_c('div',[_c('LabeledInput',{attrs:{\"data-testid\":\"os-image-box\",\"label\":_vm.t('elemental.osimage.create.osImage.label'),\"placeholder\":_vm.t('elemental.osimage.create.osImage.placeholder', null, true),\"mode\":_vm.mode},model:{value:(_vm.value.spec.osImage),callback:function ($$v) {_vm.$set(_vm.value.spec, \"osImage\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"value.spec.osImage\"}})],1)],1)]):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nimport Loading from '@shell/components/Loading.vue';\nimport CruResource from '@shell/components/CruResource.vue';\nimport CreateEditView from '@shell/mixins/create-edit-view';\nimport { LabeledInput } from '@components/Form/LabeledInput';\nimport LabeledSelect from '@shell/components/form/LabeledSelect';\nimport NameNsDescription from '@shell/components/form/NameNsDescription';\nimport { RadioGroup } from '@components/Form/Radio';\nimport { allHash } from '@shell/utils/promise';\nimport { _CREATE, _EDIT, _VIEW } from '@shell/config/query-params';\nimport { CAPI } from '@shell/config/types';\nimport { ELEMENTAL_SCHEMA_IDS } from '../config/elemental-types';\nimport {\n  filterForElementalClusters,\n  filterForUsedElementalClustersOnManagedOs\n} from '../utils/elemental-utils';\n\nconst STRING_SEPARATOR = '_***_';\n\nexport default {\n  name:       'ManagedOsImagesEditView',\n  components: {\n    Loading, LabeledInput, LabeledSelect, CruResource, NameNsDescription, RadioGroup\n  },\n  mixins:     [CreateEditView],\n  props:      {\n    value: {\n      type:     Object,\n      required: true\n    },\n    mode: {\n      type:     String,\n      required: true\n    },\n  },\n  async fetch() {\n    const hash = {};\n\n    hash.rancherClusters = this.$store.dispatch('management/findAll', { type: CAPI.RANCHER_CLUSTER });\n    hash.osGroups = this.$store.dispatch('management/findAll', { type: ELEMENTAL_SCHEMA_IDS.MANAGED_OS_IMAGES });\n    hash.osVersions = this.$store.dispatch('management/findAll', { type: ELEMENTAL_SCHEMA_IDS.MANAGED_OS_VERSIONS });\n    hash.osVersionChannels = this.$store.dispatch('management/findAll', { type: ELEMENTAL_SCHEMA_IDS.MANAGED_OS_VERSION_CHANNELS });\n\n    const res = await allHash(hash);\n\n    this.elementalClusters = filterForElementalClusters(res.rancherClusters || []);\n    this.osGroups = res.osGroups || [];\n    this.osVersions = res.osVersions || [];\n    this.osVersionChannels = res.osVersionChannels || [];\n\n    if ((this.mode === _EDIT || this.mode === _VIEW)) {\n      // populate OS version selected\n      if (this.value?.spec?.managedOSVersionName) {\n        this.osVersionSelected = this.value?.spec?.managedOSVersionName;\n        this.useManagedOsImages = true;\n      } else {\n        this.useManagedOsImages = false;\n      }\n\n      // populate cluster targets selected\n      if (this.value?.spec?.clusterTargets?.length) {\n        const targetsArray = [];\n\n        this.value?.spec?.clusterTargets.forEach((ct) => {\n          targetsArray.push(ct.clusterName);\n        });\n\n        this.clusterTargets = targetsArray;\n      }\n    }\n  },\n  data() {\n    return {\n      elementalClusters:  [],\n      osGroups:           [],\n      osVersions:         [],\n      osVersionChannels:  [],\n      clusterTargets:     [],\n      useManagedOsImages: true,\n      osVersionSelected:  ''\n    };\n  },\n  computed: {\n    clusterTargetOptions() {\n      const targetableClusters = filterForUsedElementalClustersOnManagedOs(this.elementalClusters, this.osGroups);\n\n      return targetableClusters.map((cluster) => {\n        return {\n          label: cluster.name,\n          value: cluster.name\n        };\n      });\n    },\n    managedOSVersionOptions() {\n      const out = [];\n\n      this.osVersionChannels.forEach((channel) => {\n        const versions = this.osVersions.filter((version) => {\n          // use only the same namespace as the OS groups for now...\n          const channelExists = version.metadata?.ownerReferences.find(ref => ref.name === channel.name && this.value?.metadata?.namespace === channel.metadata?.namespace);\n\n          return channelExists && Object.keys(channelExists).length && this.value?.metadata?.namespace === version.metadata?.namespace;\n        });\n\n        if (versions.length) {\n          out.push({\n            kind:  'group',\n            label: this.t('elemental.osimage.create.managedOsImage.channel', { name: channel.name }),\n            value: this.t('elemental.osimage.create.managedOsImage.channel', { name: channel.name })\n          });\n\n          versions.forEach((v) => {\n            out.push({\n              label: v.name,\n              value: `${ channel.name }${ STRING_SEPARATOR }${ v.name }`\n            });\n          });\n        }\n      });\n\n      return out;\n    },\n    isCreate() {\n      return this.mode === _CREATE;\n    }\n  },\n  methods: {\n    handleClusterTargetChange(ev) {\n      this.value.spec.clusterTargets = ev.map((val) => {\n        return { clusterName: val };\n      });\n    },\n    handleManagedOSVersionNameChange(ev) {\n      this.value.spec.managedOSVersionName = ev.split(STRING_SEPARATOR)[1];\n    }\n  },\n};\n</script>\n\n<template>\n  <Loading v-if=\"!value\" />\n  <CruResource\n    v-else\n    :done-route=\"doneRoute\"\n    :can-yaml=\"true\"\n    :mode=\"mode\"\n    :resource=\"value\"\n    :errors=\"errors\"\n    @error=\"e=>errors = e\"\n    @finish=\"save\"\n    @cancel=\"done\"\n  >\n    <div class=\"row mt-40 mb-20\">\n      <div class=\"col span-12 mb-20\">\n        <h3>{{ t('elemental.osimage.create.configuration') }}</h3>\n        <NameNsDescription v-model=\"value\" :mode=\"mode\" :description-hidden=\"true\" :namespaced=\"false\" />\n      </div>\n    </div>\n    <div v-if=\"value.spec\" class=\"row mb-20\">\n      <div class=\"col span-6 mb-20\">\n        <h3>{{ t('elemental.osimage.create.spec') }}</h3>\n        <LabeledSelect\n          v-model=\"clusterTargets\"\n          class=\"mb-20\"\n          data-testid=\"cluster-target\"\n          :label=\"t('elemental.osimage.create.targetCluster.label')\"\n          :placeholder=\"t('elemental.osimage.create.targetCluster.placeholder', null, true)\"\n          :mode=\"mode\"\n          :options=\"clusterTargetOptions\"\n          :multiple=\"true\"\n          @input=\"handleClusterTargetChange($event)\"\n        />\n        <RadioGroup\n          v-model=\"useManagedOsImages\"\n          class=\"mb-20\"\n          data-testid=\"upgrade-choice-selector\"\n          name=\"os-image-mode\"\n          :options=\"[true, false]\"\n          :labels=\"[t('elemental.osimage.create.radioOptions.osImages'), t('elemental.osimage.create.radioOptions.registry')]\"\n          :mode=\"mode\"\n        />\n        <div v-if=\"useManagedOsImages\">\n          <LabeledSelect\n            v-model=\"osVersionSelected\"\n            data-testid=\"os-version-box\"\n            :mode=\"mode\"\n            :options=\"managedOSVersionOptions\"\n            label-key=\"elemental.osimage.create.managedOsImage.label\"\n            :placeholder=\"t('elemental.osimage.create.managedOsImage.placeholder', null, true)\"\n            option-key=\"value\"\n            @input=\"handleManagedOSVersionNameChange($event)\"\n          />\n        </div>\n        <div v-else>\n          <LabeledInput\n            v-model.trim=\"value.spec.osImage\"\n            data-testid=\"os-image-box\"\n            :label=\"t('elemental.osimage.create.osImage.label')\"\n            :placeholder=\"t('elemental.osimage.create.osImage.placeholder', null, true)\"\n            :mode=\"mode\"\n          />\n        </div>\n      </div>\n    </div>\n  </CruResource>\n</template>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./elemental.cattle.io.managedosimage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./elemental.cattle.io.managedosimage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./elemental.cattle.io.managedosimage.vue?vue&type=template&id=0dc8b67b&\"\nimport script from \"./elemental.cattle.io.managedosimage.vue?vue&type=script&lang=js&\"\nexport * from \"./elemental.cattle.io.managedosimage.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}