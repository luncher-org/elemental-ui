{"version":3,"sources":["webpack://elemental-1.0.0//home/runner/work/elemental-ui/elemental-ui/node_modules/@rancher/shell/machine-config/generic.vue?c4ea","webpack://elemental-1.0.0/../../node_modules/@rancher/shell/machine-config/generic.vue","webpack://elemental-1.0.0//home/runner/work/elemental-ui/elemental-ui/node_modules/@rancher/shell/machine-config/generic.vue?8267","webpack://elemental-1.0.0//home/runner/work/elemental-ui/elemental-ui/node_modules/@rancher/shell/machine-config/generic.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","$fetchState","attrs","errors","_l","err","idx","key","stringify","mode","fields","cloudCredentialKeys","value","metadata","namespace","disabled","model","callback","$$v","expression","staticRenderFns","components","Loading","Banner","Questions","mixins","props","credentialId","type","required","provider","default","fetch","data","computed","watch","methods","component"],"mappings":"sMAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAQF,EAAIM,YAAmB,QAAEF,EAAG,UAAU,CAACG,MAAM,CAAC,SAAU,KAASP,EAAIQ,OAAa,OAAEJ,EAAG,MAAMJ,EAAIS,GAAIT,EAAU,QAAE,SAASU,EAAIC,GAAK,OAAOP,EAAG,MAAM,CAACQ,IAAID,GAAK,CAACP,EAAG,SAAS,CAACG,MAAM,CAAC,MAAQ,QAAQ,MAAQP,EAAIa,UAAUH,OAAS,MAAK,GAAGN,EAAG,MAAM,CAACA,EAAG,YAAY,CAACG,MAAM,CAAC,KAAOP,EAAIc,KAAK,QAAS,EAAM,OAASd,EAAIe,OAAO,mBAAmBf,EAAIgB,oBAAoB,mBAAmBhB,EAAIiB,MAAMC,SAASC,UAAU,SAAWnB,EAAIoB,UAAUC,MAAM,CAACJ,MAAOjB,EAAS,MAAEsB,SAAS,SAAUC,GAAMvB,EAAIiB,MAAMM,GAAKC,WAAW,YAAY,IACtmBC,EAAkB,G,4DCMP,GACfC,YACAC,eAAAC,cAAAC,kBAGAC,gBAEAC,OACAC,cACAC,YACAC,aAGAC,UACAF,YACAC,aAGAd,UACAa,aACAG,aAIAC,QACA,eAEA,IACA,0EACA,8DAEA,gBACA,iEAEA,SACA,gCAIAC,OACA,OACA9B,YACAO,cAIAwB,UACAvB,sBACA,+EACA,iEAEA,SACA,kCAEA,oEAKAwB,OACA,eACA,gBAIAC,SAAA5B,mBCxE6T,I,YCOzT6B,EAAY,eACd,EACA3C,EACA0B,GACA,EACA,KACA,KACA,MAIa,aAAAiB,E","file":"elemental-1.0.0.umd.min.machine-config6.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.$fetchState.pending)?_c('Loading',{attrs:{\"delayed\":true}}):(_vm.errors.length)?_c('div',_vm._l((_vm.errors),function(err,idx){return _c('div',{key:idx},[_c('Banner',{attrs:{\"color\":\"error\",\"label\":_vm.stringify(err)}})],1)}),0):_c('div',[_c('Questions',{attrs:{\"mode\":_vm.mode,\"tabbed\":false,\"source\":_vm.fields,\"ignore-variables\":_vm.cloudCredentialKeys,\"target-namespace\":_vm.value.metadata.namespace,\"disabled\":_vm.disabled},model:{value:(_vm.value),callback:function ($$v) {_vm.value=$$v},expression:\"value\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nimport Loading from '@shell/components/Loading';\nimport { Banner } from '@components/Banner';\nimport CreateEditView from '@shell/mixins/create-edit-view';\nimport { exceptionToErrorsArray, stringify } from '@shell/utils/error';\nimport Questions from '@shell/components/Questions';\n\nexport default {\n  components: {\n    Loading, Banner, Questions\n  },\n\n  mixins: [CreateEditView],\n\n  props: {\n    credentialId: {\n      type:     String,\n      required: true,\n    },\n\n    provider: {\n      type:     String,\n      required: true,\n    },\n\n    disabled: {\n      type:    Boolean,\n      default: false\n    },\n  },\n\n  fetch() {\n    this.errors = [];\n\n    try {\n      this.fields = this.$store.getters['plugins/fieldsForDriver'](this.provider);\n      const name = `rke-machine-config.cattle.io.${ this.provider }config`;\n\n      if ( !this.fields ) {\n        throw new Error(`Machine Driver config schema not found for ${ name }`);\n      }\n    } catch (e) {\n      this.errors = exceptionToErrorsArray(e);\n    }\n  },\n\n  data() {\n    return {\n      errors: null,\n      fields: null,\n    };\n  },\n\n  computed: {\n    cloudCredentialKeys() {\n      const normanType = this.$store.getters['plugins/credentialFieldForDriver'](this.provider);\n      const normanSchema = this.$store.getters['rancher/schemaFor'](`${ normanType }credentialconfig`);\n\n      if ( normanSchema ) {\n        return Object.keys(normanSchema.resourceFields || {});\n      } else {\n        return this.$store.getters['plugins/fieldNamesForDriver'](this.provider);\n      }\n    }\n  },\n\n  watch: {\n    'credentialId'() {\n      this.$fetch();\n    },\n  },\n\n  methods: { stringify },\n};\n</script>\n\n<template>\n  <Loading\n    v-if=\"$fetchState.pending\"\n    :delayed=\"true\"\n  />\n  <div v-else-if=\"errors.length\">\n    <div\n      v-for=\"(err, idx) in errors\"\n      :key=\"idx\"\n    >\n      <Banner\n        color=\"error\"\n        :label=\"stringify(err)\"\n      />\n    </div>\n  </div>\n  <div v-else>\n    <Questions\n      v-model=\"value\"\n      :mode=\"mode\"\n      :tabbed=\"false\"\n      :source=\"fields\"\n      :ignore-variables=\"cloudCredentialKeys\"\n      :target-namespace=\"value.metadata.namespace\"\n      :disabled=\"disabled\"\n    />\n  </div>\n</template>\n","import mod from \"-!../../../cache-loader/dist/cjs.js??ref--14-0!../../../thread-loader/dist/cjs.js!../../../babel-loader/lib/index.js!../../../cache-loader/dist/cjs.js??ref--2-0!../../../@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./generic.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../cache-loader/dist/cjs.js??ref--14-0!../../../thread-loader/dist/cjs.js!../../../babel-loader/lib/index.js!../../../cache-loader/dist/cjs.js??ref--2-0!../../../@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./generic.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./generic.vue?vue&type=template&id=c8f8ce54&\"\nimport script from \"./generic.vue?vue&type=script&lang=js&\"\nexport * from \"./generic.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}