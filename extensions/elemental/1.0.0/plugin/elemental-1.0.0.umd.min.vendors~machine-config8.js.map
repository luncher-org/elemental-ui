{"version":3,"sources":["webpack://elemental-1.0.0//home/runner/work/elemental-ui/elemental-ui/node_modules/@rancher/shell/machine-config/harvester.vue?6419","webpack://elemental-1.0.0//home/runner/work/elemental-ui/elemental-ui/node_modules/@rancher/shell/machine-config/harvester.vue?8fbd","webpack://elemental-1.0.0//home/runner/work/elemental-ui/elemental-ui/node_modules/@rancher/shell/machine-config/harvester.vue?afb9","webpack://elemental-1.0.0//home/runner/work/elemental-ui/elemental-ui/node_modules/@rancher/shell/machine-config/harvester.vue?45a7","webpack://elemental-1.0.0//home/runner/work/elemental-ui/elemental-ui/node_modules/@rancher/shell/components/form/NodeAffinity.vue?c0af","webpack://elemental-1.0.0/../../node_modules/@rancher/shell/components/form/NodeAffinity.vue","webpack://elemental-1.0.0//home/runner/work/elemental-ui/elemental-ui/node_modules/@rancher/shell/components/form/NodeAffinity.vue?e3b8","webpack://elemental-1.0.0//home/runner/work/elemental-ui/elemental-ui/node_modules/@rancher/shell/components/form/NodeAffinity.vue","webpack://elemental-1.0.0/../../node_modules/@rancher/shell/machine-config/harvester.vue","webpack://elemental-1.0.0//home/runner/work/elemental-ui/elemental-ui/node_modules/@rancher/shell/machine-config/harvester.vue?27ff","webpack://elemental-1.0.0//home/runner/work/elemental-ui/elemental-ui/node_modules/@rancher/shell/machine-config/harvester.vue"],"names":["content","__esModule","default","module","i","locals","exports","add","___CSS_LOADER_API_IMPORT___","push","render","_vm","this","_h","$createElement","_c","_self","$fetchState","attrs","staticClass","directives","name","rawName","mode","disabled","t","model","value","callback","$$v","$set","expression","namespaceOptions","namespaceDisabled","imageOptions","on","onOpen","networkOptions","disabledEdit","uuid","_v","_s","vmAffinity","affinity","nodeAffinity","updateNodeScheduling","isImportCluster","isCreate","userDataOptions","userData","_e","key","ref","$event","valuesChanged","networkDataOptions","networkData","errors","_l","err","idx","stringify","Message","staticRenderFns","queueUpdate","matchExpressions","remove","scopedSlots","_u","fn","props","affinityOptions","priorityDisplay","row","changePriority","rerenderNums","node","allSelectorTerms","components","ArrayListGrouped","MatchExpressions","LabeledSelect","type","data","nodeSelectorTerms","preferredDuringSchedulingIgnoredDuringExecution","requiredDuringSchedulingIgnoredDuringExecution","neu","Object","weightedNodeSelectorTerms","defaultWeight","computed","isView","hasWeighted","created","methods","update","weight","preference","out","get","isEmpty","component","STORAGE_NETWORK","isReady","Loading","LabeledInput","UnitInput","Banner","YamlEditor","NodeAffinity","mixins","credentialId","required","poolIndex","machinePools","id","namespaces","url","images","configMaps","networks","O","label","credential","allNodeObjects","cpuCount","set","watch","handler","deep","test","podAffinityValidator","validatorRequiredField","updateScheduling"],"mappings":"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","file":"elemental-1.0.0.umd.min.vendors~machine-config8.js","sourcesContent":["// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../sass-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../cache-loader/dist/cjs.js??ref--2-0!../../../@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./harvester.vue?vue&type=style&index=0&id=3d113ddb&prod&lang=scss&scoped=true&\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"336321b8\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","export * from \"-!../../../vue-style-loader/index.js??ref--10-oneOf-1-0!../../../@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../sass-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../cache-loader/dist/cjs.js??ref--2-0!../../../@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./harvester.vue?vue&type=style&index=0&id=3d113ddb&prod&lang=scss&scoped=true&\"","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../@vue/cli-service/node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".clearfix[data-v-3d113ddb]:after,.clearfix[data-v-3d113ddb]:before{content:\\\" \\\";display:table}.clearfix[data-v-3d113ddb]:after{clear:both}.list-unstyled[data-v-3d113ddb]{margin:0;padding:0;list-style-type:none}.no-select[data-v-3d113ddb]{-webkit-user-select:none;-moz-user-select:none;user-select:none}.no-resize[data-v-3d113ddb]{resize:none}.hand[data-v-3d113ddb]{cursor:pointer;cursor:hand}.fixed[data-v-3d113ddb]{table-layout:fixed}.clip[data-v-3d113ddb]{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.clip[data-v-3d113ddb],.force-wrap[data-v-3d113ddb]{word-wrap:break-word}.force-wrap[data-v-3d113ddb]{white-space:normal}.bordered-section[data-v-3d113ddb]{border-bottom:1px solid var(--border);margin-bottom:20px;padding-bottom:20px}.section-divider[data-v-3d113ddb]{margin-bottom:20px;margin-top:20px}[data-v-3d113ddb] .yaml-editor{flex:1;min-height:200px}[data-v-3d113ddb] .yaml-editor .code-mirror .CodeMirror{position:static;height:auto;min-height:200px}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.$fetchState.pending)?_c('Loading',{attrs:{\"delayed\":true}}):_c('div',[_c('div',{staticClass:\"row mt-20\"},[_c('div',{staticClass:\"col span-6\"},[_c('UnitInput',{directives:[{name:\"int-number\",rawName:\"v-int-number\"}],attrs:{\"label-key\":\"cluster.credential.harvester.cpu\",\"suffix\":\"C\",\"output-as\":\"string\",\"required\":\"\",\"mode\":_vm.mode,\"disabled\":_vm.disabled,\"placeholder\":_vm.t('cluster.harvester.machinePool.cpu.placeholder')},model:{value:(_vm.value.cpuCount),callback:function ($$v) {_vm.$set(_vm.value, \"cpuCount\", $$v)},expression:\"value.cpuCount\"}})],1),_c('div',{staticClass:\"col span-6\"},[_c('UnitInput',{directives:[{name:\"int-number\",rawName:\"v-int-number\"}],attrs:{\"label-key\":\"cluster.credential.harvester.memory\",\"output-as\":\"string\",\"suffix\":\"GiB\",\"mode\":_vm.mode,\"disabled\":_vm.disabled,\"required\":\"\",\"placeholder\":_vm.t('cluster.harvester.machinePool.memory.placeholder')},model:{value:(_vm.value.memorySize),callback:function ($$v) {_vm.$set(_vm.value, \"memorySize\", $$v)},expression:\"value.memorySize\"}})],1)]),_c('div',{staticClass:\"row mt-20\"},[_c('div',{staticClass:\"col span-6\"},[_c('UnitInput',{directives:[{name:\"int-number\",rawName:\"v-int-number\"}],attrs:{\"label-key\":\"cluster.credential.harvester.disk\",\"output-as\":\"string\",\"suffix\":\"GiB\",\"mode\":_vm.mode,\"disabled\":_vm.disabled,\"required\":\"\",\"placeholder\":_vm.t('cluster.harvester.machinePool.disk.placeholder')},model:{value:(_vm.value.diskSize),callback:function ($$v) {_vm.$set(_vm.value, \"diskSize\", $$v)},expression:\"value.diskSize\"}})],1),_c('div',{staticClass:\"col span-6\"},[(_vm.isImportCluster)?_c('LabeledSelect',{attrs:{\"mode\":_vm.mode,\"options\":_vm.namespaceOptions,\"searchable\":true,\"required\":true,\"disabled\":_vm.namespaceDisabled,\"label-key\":\"cluster.credential.harvester.namespace\",\"placeholder\":_vm.t('cluster.harvester.machinePool.namespace.placeholder')},model:{value:(_vm.value.vmNamespace),callback:function ($$v) {_vm.$set(_vm.value, \"vmNamespace\", $$v)},expression:\"value.vmNamespace\"}}):_c('LabeledInput',{attrs:{\"label-key\":\"cluster.credential.harvester.namespace\",\"required\":true,\"mode\":_vm.mode,\"disabled\":_vm.namespaceDisabled,\"placeholder\":_vm.t('cluster.harvester.machinePool.namespace.placeholder')},model:{value:(_vm.value.vmNamespace),callback:function ($$v) {_vm.$set(_vm.value, \"vmNamespace\", $$v)},expression:\"value.vmNamespace\"}})],1)]),(_vm.isImportCluster)?_c('div',{staticClass:\"row mt-20\"},[_c('div',{staticClass:\"col span-6\"},[_c('LabeledSelect',{attrs:{\"mode\":_vm.mode,\"options\":_vm.imageOptions,\"required\":true,\"searchable\":true,\"disabled\":_vm.disabled,\"label-key\":\"cluster.credential.harvester.image\",\"placeholder\":_vm.t('cluster.harvester.machinePool.image.placeholder')},on:{\"on-open\":_vm.onOpen},model:{value:(_vm.value.imageName),callback:function ($$v) {_vm.$set(_vm.value, \"imageName\", $$v)},expression:\"value.imageName\"}})],1),_c('div',{staticClass:\"col span-6\"},[_c('LabeledSelect',{attrs:{\"mode\":_vm.mode,\"options\":_vm.networkOptions,\"required\":true,\"disabled\":_vm.disabledEdit,\"label-key\":\"cluster.credential.harvester.network\",\"placeholder\":_vm.t('cluster.harvester.machinePool.network.placeholder')},model:{value:(_vm.value.networkName),callback:function ($$v) {_vm.$set(_vm.value, \"networkName\", $$v)},expression:\"value.networkName\"}})],1)]):_c('div',{staticClass:\"row mt-20\"},[_c('div',{staticClass:\"col span-6\"},[_c('LabeledInput',{attrs:{\"mode\":_vm.mode,\"required\":true,\"placeholder\":_vm.t('cluster.credential.harvester.placeholder'),\"disabled\":_vm.disabledEdit,\"label-key\":\"cluster.credential.harvester.image\"},model:{value:(_vm.value.imageName),callback:function ($$v) {_vm.$set(_vm.value, \"imageName\", $$v)},expression:\"value.imageName\"}})],1),_c('div',{staticClass:\"col span-6\"},[_c('LabeledInput',{attrs:{\"mode\":_vm.mode,\"required\":true,\"placeholder\":_vm.t('cluster.credential.harvester.placeholder'),\"disabled\":_vm.disabledEdit,\"label-key\":\"cluster.credential.harvester.network\"},model:{value:(_vm.value.networkName),callback:function ($$v) {_vm.$set(_vm.value, \"networkName\", $$v)},expression:\"value.networkName\"}})],1)]),_c('div',{staticClass:\"row mt-20\"},[_c('div',{staticClass:\"col span-6\"},[_c('LabeledInput',{attrs:{\"label-key\":\"cluster.credential.harvester.sshUser\",\"required\":true,\"mode\":_vm.mode,\"disabled\":_vm.disabled,\"placeholder\":_vm.t('cluster.harvester.machinePool.sshUser.placeholder'),\"tooltip-key\":\"cluster.harvester.machinePool.sshUser.toolTip\"},model:{value:(_vm.value.sshUser),callback:function ($$v) {_vm.$set(_vm.value, \"sshUser\", $$v)},expression:\"value.sshUser\"}})],1)]),_c('portal',{attrs:{\"to\":'advanced-'+_vm.uuid}},[_c('h3',{staticClass:\"mt-20\"},[_vm._v(\" \"+_vm._s(_vm.t(\"workload.container.titles.nodeScheduling\"))+\" \")]),_c('NodeAffinity',{attrs:{\"mode\":_vm.mode,\"value\":_vm.vmAffinity.affinity.nodeAffinity},on:{\"input\":_vm.updateNodeScheduling}}),_c('h3',{staticClass:\"mt-20\"},[_vm._v(\" \"+_vm._s(_vm.t(\"cluster.credential.harvester.userData.title\"))+\" \")]),_c('div',[(_vm.isImportCluster && _vm.isCreate)?_c('LabeledSelect',{staticClass:\"mb-10\",attrs:{\"options\":_vm.userDataOptions,\"label-key\":\"cluster.credential.harvester.userData.label\",\"mode\":_vm.mode,\"disabled\":_vm.disabled},model:{value:(_vm.userData),callback:function ($$v) {_vm.userData=$$v},expression:\"userData\"}}):_vm._e(),_c('YamlEditor',{key:_vm.userData,ref:\"userDataYamlEditor\",staticClass:\"yaml-editor mb-20\",attrs:{\"editor-mode\":_vm.mode === 'view' ? 'VIEW_CODE' : 'EDIT_CODE',\"value\":_vm.userData,\"disabled\":_vm.disabled},on:{\"onInput\":function($event){return _vm.valuesChanged($event, 'userData')}}})],1),_c('h3',[_vm._v(_vm._s(_vm.t('cluster.credential.harvester.networkData.title')))]),_c('div',[(_vm.isImportCluster && _vm.isCreate)?_c('LabeledSelect',{staticClass:\"mb-10\",attrs:{\"options\":_vm.networkDataOptions,\"label-key\":\"cluster.credential.harvester.networkData.label\",\"mode\":_vm.mode,\"disabled\":_vm.disabled},model:{value:(_vm.networkData),callback:function ($$v) {_vm.networkData=$$v},expression:\"networkData\"}}):_vm._e(),_c('YamlEditor',{key:_vm.networkData,ref:\"networkYamlEditor\",staticClass:\"yaml-editor mb-10\",attrs:{\"editor-mode\":_vm.mode === 'view' ? 'VIEW_CODE' : 'EDIT_CODE',\"value\":_vm.networkData,\"disabled\":_vm.disabled},on:{\"onInput\":function($event){return _vm.valuesChanged($event, 'networkData')}}})],1)],1)],1),(_vm.errors.length)?_c('div',_vm._l((_vm.errors),function(err,idx){return _c('div',{key:idx},[_c('Banner',{attrs:{\"color\":\"error\",\"label\":_vm.stringify(err.Message || err)}})],1)}),0):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"row\",on:{\"input\":_vm.queueUpdate}},[_c('div',{staticClass:\"col span-12\"},[_c('ArrayListGrouped',{staticClass:\"mt-20\",attrs:{\"mode\":_vm.mode,\"default-add-value\":{matchExpressions:[]},\"add-label\":_vm.t('workload.scheduling.affinity.addNodeSelector')},on:{\"remove\":_vm.remove},scopedSlots:_vm._u([{key:\"default\",fn:function(props){return [_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col span-6\"},[_c('LabeledSelect',{attrs:{\"options\":_vm.affinityOptions,\"value\":_vm.priorityDisplay(props.row.value),\"label\":_vm.t('workload.scheduling.affinity.priority'),\"mode\":_vm.mode},on:{\"input\":function($event){(_vm.changePriority(props.row.value))}}})],1)]),_c('MatchExpressions',{key:_vm.rerenderNums,staticClass:\"col span-12 mt-20\",attrs:{\"mode\":_vm.mode,\"type\":_vm.node,\"show-remove\":false},model:{value:(props.row.value.matchExpressions),callback:function ($$v) {_vm.$set(props.row.value, \"matchExpressions\", $$v)},expression:\"props.row.value.matchExpressions\"}})]}}]),model:{value:(_vm.allSelectorTerms),callback:function ($$v) {_vm.allSelectorTerms=$$v},expression:\"allSelectorTerms\"}})],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nimport debounce from 'lodash/debounce';\nimport { _VIEW } from '@shell/config/query-params';\nimport { mapGetters } from 'vuex';\nimport { get, isEmpty, clone } from '@shell/utils/object';\nimport { NODE } from '@shell/config/types';\nimport MatchExpressions from '@shell/components/form/MatchExpressions';\nimport LabeledSelect from '@shell/components/form/LabeledSelect';\nimport { randomStr } from '@shell/utils/string';\nimport ArrayListGrouped from '@shell/components/form/ArrayListGrouped';\n\nexport default {\n  components: {\n    ArrayListGrouped, MatchExpressions, LabeledSelect\n  },\n\n  props: {\n    // value should be NodeAffinity or VolumeNodeAffinity\n    value: {\n      type:    Object,\n      default: () => {\n        return {};\n      }\n    },\n\n    mode: {\n      type:    String,\n      default: 'create'\n    },\n  },\n\n  data() {\n    // VolumeNodeAffinity only has 'required' field\n    if (this.value.required) {\n      return { nodeSelectorTerms: this.value.required.nodeSelectorTerms };\n    } else {\n      const { preferredDuringSchedulingIgnoredDuringExecution = [], requiredDuringSchedulingIgnoredDuringExecution = {} } = this.value;\n      const { nodeSelectorTerms = [] } = requiredDuringSchedulingIgnoredDuringExecution;\n      const allSelectorTerms = [...preferredDuringSchedulingIgnoredDuringExecution, ...nodeSelectorTerms].map((term) => {\n        const neu = clone(term);\n\n        neu._id = randomStr(4);\n        if (term.preference) {\n          Object.assign(neu, term.preference);\n          delete neu.preference;\n        }\n\n        return neu;\n      });\n\n      return {\n        allSelectorTerms,\n        weightedNodeSelectorTerms: preferredDuringSchedulingIgnoredDuringExecution,\n        defaultWeight:             1,\n        // rules in MatchExpressions.vue can not catch changes what happens on parent component\n        // we need re-render it via key changing\n        rerenderNums:              randomStr(4)\n      };\n    }\n  },\n\n  computed: {\n    ...mapGetters({ t: 'i18n/t' }),\n    isView() {\n      return this.mode === _VIEW;\n    },\n    hasWeighted() {\n      return !!this.weightedNodeSelectorTerms;\n    },\n    node() {\n      return NODE;\n    },\n    affinityOptions() {\n      const out = [this.t('workload.scheduling.affinity.preferred'), this.t('workload.scheduling.affinity.required')];\n\n      return out;\n    }\n  },\n\n  created() {\n    this.queueUpdate = debounce(this.update, 500);\n  },\n\n  methods: {\n    update() {\n      const out = {};\n      const requiredDuringSchedulingIgnoredDuringExecution = { nodeSelectorTerms: [] };\n      const preferredDuringSchedulingIgnoredDuringExecution = [] ;\n\n      this.allSelectorTerms.forEach((term) => {\n        if (term.weight) {\n          const neu = { weight: 1, preference: term };\n\n          preferredDuringSchedulingIgnoredDuringExecution.push(neu);\n        } else {\n          requiredDuringSchedulingIgnoredDuringExecution.nodeSelectorTerms.push(term);\n        }\n      });\n\n      if (preferredDuringSchedulingIgnoredDuringExecution.length) {\n        out.preferredDuringSchedulingIgnoredDuringExecution = preferredDuringSchedulingIgnoredDuringExecution;\n      }\n      if (requiredDuringSchedulingIgnoredDuringExecution.nodeSelectorTerms.length) {\n        out.requiredDuringSchedulingIgnoredDuringExecution = requiredDuringSchedulingIgnoredDuringExecution;\n      }\n      this.$emit('input', out);\n    },\n\n    remove() {\n      this.rerenderNums = randomStr(4);\n      this.queueUpdate();\n    },\n\n    changePriority(term) {\n      if (term.weight) {\n        this.$delete(term, 'weight');\n      } else {\n        this.$set(term, 'weight', 1);\n      }\n      this.update();\n    },\n\n    priorityDisplay(term) {\n      return term.weight ? this.t('workload.scheduling.affinity.preferred') : this.t('workload.scheduling.affinity.required');\n    },\n\n    get,\n\n    isEmpty\n  }\n\n};\n</script>\n\n<template>\n  <div\n    class=\"row\"\n    @input=\"queueUpdate\"\n  >\n    <div class=\"col span-12\">\n      <ArrayListGrouped\n        v-model=\"allSelectorTerms\"\n        class=\"mt-20\"\n        :mode=\"mode\"\n        :default-add-value=\"{matchExpressions:[]}\"\n        :add-label=\"t('workload.scheduling.affinity.addNodeSelector')\"\n        @remove=\"remove\"\n      >\n        <template #default=\"props\">\n          <div class=\"row\">\n            <div class=\"col span-6\">\n              <LabeledSelect\n                :options=\"affinityOptions\"\n                :value=\"priorityDisplay(props.row.value)\"\n                :label=\"t('workload.scheduling.affinity.priority')\"\n                :mode=\"mode\"\n                @input=\"(changePriority(props.row.value))\"\n              />\n            </div>\n          </div>\n          <MatchExpressions\n            :key=\"rerenderNums\"\n            v-model=\"props.row.value.matchExpressions\"\n            :mode=\"mode\"\n            class=\"col span-12 mt-20\"\n            :type=\"node\"\n            :show-remove=\"false\"\n          />\n        </template>\n      </ArrayListGrouped>\n    </div>\n  </div>\n</template>\n\n<style>\n</style>\n","import mod from \"-!../../../../cache-loader/dist/cjs.js??ref--14-0!../../../../thread-loader/dist/cjs.js!../../../../babel-loader/lib/index.js!../../../../cache-loader/dist/cjs.js??ref--2-0!../../../../@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./NodeAffinity.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../cache-loader/dist/cjs.js??ref--14-0!../../../../thread-loader/dist/cjs.js!../../../../babel-loader/lib/index.js!../../../../cache-loader/dist/cjs.js??ref--2-0!../../../../@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./NodeAffinity.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./NodeAffinity.vue?vue&type=template&id=294d5904&\"\nimport script from \"./NodeAffinity.vue?vue&type=script&lang=js&\"\nexport * from \"./NodeAffinity.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<script>\nimport isEmpty from 'lodash/isEmpty';\nimport NodeAffinity from '@shell/components/form/NodeAffinity';\n// import PodAffinity from '@shell/components/form/PodAffinity';\nimport Loading from '@shell/components/Loading';\nimport CreateEditView from '@shell/mixins/create-edit-view';\nimport LabeledSelect from '@shell/components/form/LabeledSelect';\nimport { LabeledInput } from '@components/Form/LabeledInput';\nimport UnitInput from '@shell/components/form/UnitInput';\nimport YamlEditor from '@shell/components/YamlEditor';\nimport { Banner } from '@components/Banner';\n\nimport { get } from '@shell/utils/object';\nimport { mapGetters } from 'vuex';\nimport {\n  HCI,\n  NAMESPACE,\n  MANAGEMENT,\n  CONFIG_MAP,\n  NORMAN,\n  NODE\n} from '@shell/config/types';\nimport { base64Decode, base64Encode } from '@shell/utils/crypto';\nimport { allHashSettled } from '@shell/utils/promise';\nimport { podAffinity as podAffinityValidator } from '@shell/utils/validators/pod-affinity';\nimport { stringify, exceptionToErrorsArray } from '@shell/utils/error';\nimport { HCI as HCI_ANNOTATIONS } from '@shell/config/labels-annotations';\n\nconst STORAGE_NETWORK = 'storage-network.settings.harvesterhci.io';\n\nexport function isReady() {\n  function getStatusConditionOfType(type, defaultValue = []) {\n    const conditions = Array.isArray(get(this, 'status.conditions')) ? this.status.conditions : defaultValue;\n\n    return conditions.find( cond => cond.type === type);\n  }\n\n  const initialized = getStatusConditionOfType.call(this, 'Initialized');\n  const imported = getStatusConditionOfType.call(this, 'Imported');\n  const isCompleted = this.status?.progress === 100;\n\n  if ([initialized?.status, imported?.status].includes('False')) {\n    return false;\n  } else {\n    return isCompleted && true;\n  }\n}\n\nexport default {\n  name: 'ConfigComponentHarvester',\n\n  components: {\n    Loading, LabeledSelect, LabeledInput, UnitInput, Banner, YamlEditor, NodeAffinity\n  },\n\n  mixins: [CreateEditView],\n\n  props: {\n    credentialId: {\n      type:     String,\n      required: true\n    },\n\n    uuid: {\n      type:     String,\n      required: true\n    },\n\n    disabled: {\n      type:    Boolean,\n      default: false\n    },\n\n    poolIndex: {\n      type:     Number,\n      required: true\n    },\n\n    machinePools: {\n      type:    Array,\n      default: () => []\n    }\n  },\n\n  async fetch() {\n    this.errors = [];\n\n    try {\n      this.credential = await this.$store.dispatch('rancher/find', {\n        type: NORMAN.CLOUD_CREDENTIAL,\n        id:   this.credentialId\n      });\n      const clusterId = get(this.credential, 'decodedData.clusterId');\n\n      const url = `/k8s/clusters/${ clusterId }/v1`;\n\n      const isImportCluster =\n        this.credential.decodedData.clusterType === 'imported';\n\n      this.isImportCluster = isImportCluster;\n\n      if (clusterId && isImportCluster) {\n        const res = await allHashSettled({\n          namespaces: this.$store.dispatch('cluster/request', { url: `${ url }/${ NAMESPACE }s` }),\n          images:     this.$store.dispatch('cluster/request', { url: `${ url }/${ HCI.IMAGE }s` }),\n          configMaps: this.$store.dispatch('cluster/request', { url: `${ url }/${ CONFIG_MAP }s` }),\n          networks:   this.$store.dispatch('cluster/request', { url: `${ url }/k8s.cni.cncf.io.network-attachment-definitions` }),\n        });\n\n        for (const key of Object.keys(res)) {\n          const obj = res[key];\n\n          if (obj.status === 'rejected') {\n            this.errors.push(stringify(obj.reason));\n            continue;\n          }\n        }\n\n        if (this.errors.length > 0) {\n          // If an error is reported in the request data, see if it is due to a cluster error\n          const cluster = await this.$store.dispatch('management/find', {\n            type: MANAGEMENT.CLUSTER,\n            id:   clusterId\n          });\n\n          if (cluster.stateDescription && !cluster.isReady) {\n            this.errors = [cluster.stateDescription];\n          }\n        }\n\n        const userDataOptions = [];\n        const networkDataOptions = [];\n\n        (res.configMaps.value?.data || []).map((O) => {\n          const cloudTemplate =\n            O.metadata?.labels?.[HCI_ANNOTATIONS.CLOUD_INIT];\n\n          if (cloudTemplate === 'user') {\n            userDataOptions.push({\n              label: O.metadata.name,\n              value: O.data.cloudInit\n            });\n          }\n\n          if (cloudTemplate === 'network') {\n            networkDataOptions.push({\n              label: O.metadata.name,\n              value: O.data.cloudInit\n            });\n          }\n        });\n\n        this.userDataOptions = userDataOptions;\n        this.networkDataOptions = networkDataOptions;\n        this.images = res.images.value?.data;\n        this.networkOptions = (res.networks.value?.data || []).filter(O => O.metadata?.annotations?.[STORAGE_NETWORK] !== 'true').map((O) => {\n          let value;\n          let label;\n\n          try {\n            const config = JSON.parse(O.spec.config);\n\n            const id = config.vlan;\n\n            value = O.id;\n            label = `${ value } (vlanId=${ id })`;\n          } catch (err) {}\n\n          return {\n            label,\n            value\n          };\n        });\n\n        (res.namespaces.value.data || []).forEach(async(namespace) => {\n          const proxyNamespace = await this.$store.dispatch('cluster/create', namespace);\n\n          if (!proxyNamespace.isSystem && namespace.links.update) {\n            const value = namespace.metadata.name;\n            const label = namespace.metadata.name;\n\n            this.namespaces.push(namespace);\n            this.namespaceOptions.push({\n              label,\n              value\n            });\n          }\n        });\n\n        try {\n          const { data: nodes } = await this.$store.dispatch('cluster/request', { url: `${ url }/${ NODE }s` });\n\n          this.allNodeObjects = nodes;\n        } catch (err) {\n          this.allNodeObjects = [];\n        }\n      }\n\n      if (isEmpty(this.value.cpuCount)) {\n        this.value.cpuCount = '2';\n      }\n\n      if (isEmpty(this.value.memorySize)) {\n        this.value.memorySize = '4';\n      }\n\n      if (isEmpty(this.value.diskSize)) {\n        this.value.diskSize = '40';\n      }\n    } catch (e) {\n      this.errors = exceptionToErrorsArray(e);\n    }\n  },\n\n  data() {\n    let vmAffinity = { affinity: {} };\n    let userData = '';\n    let networkData = '';\n\n    if (this.value.vmAffinity) {\n      vmAffinity = { affinity: JSON.parse(base64Decode(this.value.vmAffinity)) };\n    }\n\n    if (this.value.userData) {\n      userData = base64Decode(this.value.userData);\n    }\n\n    if (this.value.networkData) {\n      networkData = base64Decode(this.value.networkData);\n    }\n\n    return {\n      credential:         null,\n      isImportCluster:    false,\n      vmAffinity,\n      userData,\n      networkData,\n      images:             [],\n      namespaces:         [],\n      namespaceOptions:   [],\n      networkOptions:     [],\n      userDataOptions:    [],\n      networkDataOptions: [],\n      allNodeObjects:     [],\n      cpuCount:           ''\n    };\n  },\n\n  computed: {\n    ...mapGetters({ t: 'i18n/t' }),\n\n    disabledEdit() {\n      return this.disabled || !!(this.isEdit && this.value.id);\n    },\n\n    imageOptions: {\n      get() {\n        return (this.images || []).filter( (O) => {\n          return !O.spec.url.endsWith('.iso') && isReady.call(O);\n        }).sort((a, b) => a.metadata.creationTimestamp > b.metadata.creationTimestamp ? -1 : 1).map( (O) => {\n          const value = O.id;\n          const label = `${ O.spec.displayName } (${ value })`;\n\n          return {\n            label,\n            value\n          };\n        });\n      },\n      set(neu) {\n        this.images = neu;\n      }\n    },\n\n    namespaceDisabled() {\n      return this.disabledEdit || this.poolIndex > 0;\n    }\n  },\n\n  watch: {\n    credentialId() {\n      if (!this.isEdit) {\n        this.imageOptions = [];\n        this.networkOptions = [];\n        this.namespaces = [];\n        this.namespaceOptions = [];\n        this.vmAffinity = { affinity: {} };\n        this.value.imageName = '';\n        this.value.networkName = '';\n        this.value.vmNamespace = '';\n        this.value.vmAffinity = '';\n      }\n\n      this.$fetch();\n    },\n\n    networkData(neu) {\n      this.$refs.networkYamlEditor.refresh();\n      this.value.networkData = base64Encode(neu);\n    },\n\n    userData(neu) {\n      this.$refs.userDataYamlEditor.refresh();\n      this.value.userData = base64Encode(neu);\n    },\n\n    machinePools: {\n      handler(pools) {\n        const vmNamespace = pools[0].config.vmNamespace;\n\n        if (this.poolIndex > 0 && this.value.vmNamespace !== vmNamespace) {\n          this.value.vmNamespace = vmNamespace;\n        }\n      },\n      deep: true\n    }\n  },\n\n  methods: {\n    stringify,\n\n    test() {\n      const errors = [];\n\n      if (!this.value.cpuCount) {\n        const message = this.validatorRequiredField(\n          this.t('cluster.credential.harvester.cpu')\n        );\n\n        errors.push(message);\n      }\n\n      if (!this.value.vmNamespace) {\n        const message = this.validatorRequiredField(\n          this.t('cluster.credential.harvester.namespace')\n        );\n\n        errors.push(message);\n      }\n\n      if (!this.value.memorySize) {\n        const message = this.validatorRequiredField(\n          this.t('cluster.credential.harvester.memory')\n        );\n\n        errors.push(message);\n      }\n\n      if (!this.value.diskSize) {\n        const message = this.validatorRequiredField(\n          this.t('cluster.credential.harvester.disk')\n        );\n\n        errors.push(message);\n      }\n\n      if (!this.value.imageName) {\n        const message = this.validatorRequiredField(\n          this.t('cluster.credential.harvester.image')\n        );\n\n        errors.push(message);\n      }\n\n      if (!this.value.sshUser) {\n        const message = this.validatorRequiredField(\n          this.t('cluster.credential.harvester.sshUser')\n        );\n\n        errors.push(message);\n      }\n\n      if (!this.value.networkName) {\n        const message = this.validatorRequiredField(\n          this.t('cluster.credential.harvester.network')\n        );\n\n        errors.push(message);\n      }\n\n      podAffinityValidator(this.vmAffinity.affinity, this.$store.getters, errors);\n\n      return { errors };\n    },\n\n    validatorRequiredField(key) {\n      return this.t('validation.required', { key });\n    },\n\n    valuesChanged(value, type) {\n      this.value[type] = base64Encode(value);\n    },\n\n    onOpen() {\n      this.getVmImage();\n    },\n\n    async getVmImage() {\n      try {\n        const clusterId = get(this.credential, 'decodedData.clusterId');\n        const url = `/k8s/clusters/${ clusterId }/v1`;\n\n        if (url && this.isImportCluster) {\n          const res = await this.$store.dispatch('cluster/request', { url: `${ url }/${ HCI.IMAGE }s` });\n\n          this.images = res?.data;\n        }\n      } catch (e) {\n        this.errors = exceptionToErrorsArray(e);\n      }\n    },\n\n    updateScheduling(neu) {\n      const { affinity } = neu;\n\n      if (!affinity.nodeAffinity && !affinity.podAffinity && !affinity.podAntiAffinity) {\n        this.value.vmAffinity = '';\n        this.vmAffinity = { affinity: {} };\n\n        return;\n      }\n\n      this.value.vmAffinity = base64Encode(JSON.stringify(affinity));\n      this.vmAffinity = neu;\n    },\n\n    updateNodeScheduling(nodeAffinity) {\n      if (!this.vmAffinity.affinity) {\n        Object.assign(this.vmAffinity, { affinity: { nodeAffinity } });\n      } else {\n        Object.assign(this.vmAffinity.affinity, { nodeAffinity });\n      }\n\n      this.updateScheduling(this.vmAffinity);\n    }\n  }\n};\n</script>\n\n<template>\n  <div>\n    <Loading\n      v-if=\"$fetchState.pending\"\n      :delayed=\"true\"\n    />\n    <div v-else>\n      <div class=\"row mt-20\">\n        <div class=\"col span-6\">\n          <UnitInput\n            v-model=\"value.cpuCount\"\n            v-int-number\n            label-key=\"cluster.credential.harvester.cpu\"\n            suffix=\"C\"\n            output-as=\"string\"\n            required\n            :mode=\"mode\"\n            :disabled=\"disabled\"\n            :placeholder=\"t('cluster.harvester.machinePool.cpu.placeholder')\"\n          />\n        </div>\n\n        <div class=\"col span-6\">\n          <UnitInput\n            v-model=\"value.memorySize\"\n            v-int-number\n            label-key=\"cluster.credential.harvester.memory\"\n            output-as=\"string\"\n            suffix=\"GiB\"\n            :mode=\"mode\"\n            :disabled=\"disabled\"\n            required\n            :placeholder=\"t('cluster.harvester.machinePool.memory.placeholder')\"\n          />\n        </div>\n      </div>\n\n      <div class=\"row mt-20\">\n        <div class=\"col span-6\">\n          <UnitInput\n            v-model=\"value.diskSize\"\n            v-int-number\n            label-key=\"cluster.credential.harvester.disk\"\n            output-as=\"string\"\n            suffix=\"GiB\"\n            :mode=\"mode\"\n            :disabled=\"disabled\"\n            required\n            :placeholder=\"t('cluster.harvester.machinePool.disk.placeholder')\"\n          />\n        </div>\n\n        <div class=\"col span-6\">\n          <LabeledSelect\n            v-if=\"isImportCluster\"\n            v-model=\"value.vmNamespace\"\n            :mode=\"mode\"\n            :options=\"namespaceOptions\"\n            :searchable=\"true\"\n            :required=\"true\"\n            :disabled=\"namespaceDisabled\"\n            label-key=\"cluster.credential.harvester.namespace\"\n            :placeholder=\"\n              t('cluster.harvester.machinePool.namespace.placeholder')\n            \"\n          />\n\n          <LabeledInput\n            v-else\n            v-model=\"value.vmNamespace\"\n            label-key=\"cluster.credential.harvester.namespace\"\n            :required=\"true\"\n            :mode=\"mode\"\n            :disabled=\"namespaceDisabled\"\n            :placeholder=\"\n              t('cluster.harvester.machinePool.namespace.placeholder')\n            \"\n          />\n        </div>\n      </div>\n\n      <div\n        v-if=\"isImportCluster\"\n        class=\"row mt-20\"\n      >\n        <div class=\"col span-6\">\n          <LabeledSelect\n            v-model=\"value.imageName\"\n            :mode=\"mode\"\n            :options=\"imageOptions\"\n            :required=\"true\"\n            :searchable=\"true\"\n            :disabled=\"disabled\"\n            label-key=\"cluster.credential.harvester.image\"\n            :placeholder=\"t('cluster.harvester.machinePool.image.placeholder')\"\n            @on-open=\"onOpen\"\n          />\n        </div>\n\n        <div class=\"col span-6\">\n          <LabeledSelect\n            v-model=\"value.networkName\"\n            :mode=\"mode\"\n            :options=\"networkOptions\"\n            :required=\"true\"\n            :disabled=\"disabledEdit\"\n            label-key=\"cluster.credential.harvester.network\"\n            :placeholder=\"\n              t('cluster.harvester.machinePool.network.placeholder')\n            \"\n          />\n        </div>\n      </div>\n\n      <div\n        v-else\n        class=\"row mt-20\"\n      >\n        <div class=\"col span-6\">\n          <LabeledInput\n            v-model=\"value.imageName\"\n            :mode=\"mode\"\n            :required=\"true\"\n            :placeholder=\"t('cluster.credential.harvester.placeholder')\"\n            :disabled=\"disabledEdit\"\n            label-key=\"cluster.credential.harvester.image\"\n          />\n        </div>\n\n        <div class=\"col span-6\">\n          <LabeledInput\n            v-model=\"value.networkName\"\n            :mode=\"mode\"\n            :required=\"true\"\n            :placeholder=\"t('cluster.credential.harvester.placeholder')\"\n            :disabled=\"disabledEdit\"\n            label-key=\"cluster.credential.harvester.network\"\n          />\n        </div>\n      </div>\n\n      <div class=\"row mt-20\">\n        <div class=\"col span-6\">\n          <LabeledInput\n            v-model=\"value.sshUser\"\n            label-key=\"cluster.credential.harvester.sshUser\"\n            :required=\"true\"\n            :mode=\"mode\"\n            :disabled=\"disabled\"\n            :placeholder=\"\n              t('cluster.harvester.machinePool.sshUser.placeholder')\n            \"\n            tooltip-key=\"cluster.harvester.machinePool.sshUser.toolTip\"\n          />\n        </div>\n      </div>\n\n      <portal :to=\"'advanced-'+uuid\">\n        <h3 class=\"mt-20\">\n          {{ t(\"workload.container.titles.nodeScheduling\") }}\n        </h3>\n        <NodeAffinity\n          :mode=\"mode\"\n          :value=\"vmAffinity.affinity.nodeAffinity\"\n          @input=\"updateNodeScheduling\"\n        />\n\n        <!-- <h3 class=\"mt-20\">\n          {{ t(\"workload.container.titles.podScheduling\") }}\n        </h3>\n        <PodAffinity\n          :mode=\"mode\"\n          :value=\"vmAffinity\"\n          :nodes=\"allNodeObjects\"\n          :namespaces=\"namespaces\"\n          @update=\"updateScheduling\"\n        /> -->\n\n        <h3 class=\"mt-20\">\n          {{ t(\"cluster.credential.harvester.userData.title\") }}\n        </h3>\n        <div>\n          <LabeledSelect\n            v-if=\"isImportCluster && isCreate\"\n            v-model=\"userData\"\n            class=\"mb-10\"\n            :options=\"userDataOptions\"\n            label-key=\"cluster.credential.harvester.userData.label\"\n            :mode=\"mode\"\n            :disabled=\"disabled\"\n          />\n\n          <YamlEditor\n            ref=\"userDataYamlEditor\"\n            :key=\"userData\"\n            class=\"yaml-editor mb-20\"\n            :editor-mode=\"mode === 'view' ? 'VIEW_CODE' : 'EDIT_CODE'\"\n            :value=\"userData\"\n            :disabled=\"disabled\"\n            @onInput=\"valuesChanged($event, 'userData')\"\n          />\n        </div>\n\n        <h3>{{ t('cluster.credential.harvester.networkData.title') }}</h3>\n        <div>\n          <LabeledSelect\n            v-if=\"isImportCluster && isCreate\"\n            v-model=\"networkData\"\n            class=\"mb-10\"\n            :options=\"networkDataOptions\"\n            label-key=\"cluster.credential.harvester.networkData.label\"\n            :mode=\"mode\"\n            :disabled=\"disabled\"\n          />\n\n          <YamlEditor\n            ref=\"networkYamlEditor\"\n            :key=\"networkData\"\n            class=\"yaml-editor mb-10\"\n            :editor-mode=\"mode === 'view' ? 'VIEW_CODE' : 'EDIT_CODE'\"\n            :value=\"networkData\"\n            :disabled=\"disabled\"\n            @onInput=\"valuesChanged($event, 'networkData')\"\n          />\n        </div>\n      </portal>\n    </div>\n    <div v-if=\"errors.length\">\n      <div\n        v-for=\"(err, idx) in errors\"\n        :key=\"idx\"\n      >\n        <Banner\n          color=\"error\"\n          :label=\"stringify(err.Message || err)\"\n        />\n      </div>\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n$yaml-height: 200px;\n\n::v-deep .yaml-editor {\n  flex: 1;\n  min-height: $yaml-height;\n  & .code-mirror .CodeMirror {\n    position: initial;\n    height: auto;\n    min-height: $yaml-height;\n  }\n}\n</style>\n","import mod from \"-!../../../cache-loader/dist/cjs.js??ref--14-0!../../../thread-loader/dist/cjs.js!../../../babel-loader/lib/index.js!../../../cache-loader/dist/cjs.js??ref--2-0!../../../@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./harvester.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../cache-loader/dist/cjs.js??ref--14-0!../../../thread-loader/dist/cjs.js!../../../babel-loader/lib/index.js!../../../cache-loader/dist/cjs.js??ref--2-0!../../../@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./harvester.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./harvester.vue?vue&type=template&id=3d113ddb&scoped=true&\"\nimport script from \"./harvester.vue?vue&type=script&lang=js&\"\nexport * from \"./harvester.vue?vue&type=script&lang=js&\"\nimport style0 from \"./harvester.vue?vue&type=style&index=0&id=3d113ddb&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3d113ddb\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}