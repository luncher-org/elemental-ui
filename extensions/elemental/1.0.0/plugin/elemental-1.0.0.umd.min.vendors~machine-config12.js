(("undefined"!==typeof self?self:this)["webpackJsonpelemental_1_0_0"]=("undefined"!==typeof self?self:this)["webpackJsonpelemental_1_0_0"]||[]).push([[7],{"0114":function(e,t,a){var s=a("5eaa");t=s(!1),t.push([e.i,'.clearfix[data-v-0749f52c]:after,.clearfix[data-v-0749f52c]:before{content:" ";display:table}.clearfix[data-v-0749f52c]:after{clear:both}.list-unstyled[data-v-0749f52c]{margin:0;padding:0;list-style-type:none}.no-select[data-v-0749f52c]{-webkit-user-select:none;-moz-user-select:none;user-select:none}.no-resize[data-v-0749f52c]{resize:none}.hand[data-v-0749f52c]{cursor:pointer;cursor:hand}.fixed[data-v-0749f52c]{table-layout:fixed}.clip[data-v-0749f52c]{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.clip[data-v-0749f52c],.force-wrap[data-v-0749f52c]{word-wrap:break-word}.force-wrap[data-v-0749f52c]{white-space:normal}.bordered-section[data-v-0749f52c]{border-bottom:1px solid var(--border);margin-bottom:20px;padding-bottom:20px}.section-divider[data-v-0749f52c]{margin-bottom:20px;margin-top:20px}[data-v-0749f52c] .unlabeled-select{height:61px}',""]),e.exports=t},"2d99":function(e,t,a){"use strict";a("319e")},"319e":function(e,t,a){var s=a("0114");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);var l=a("0ed3").default;l("5c7344f4",s,!0,{sourceMap:!1,shadowMode:!1})},"862e":function(e,t,a){var s=a("5eaa");t=s(!1),t.push([e.i,'.clearfix:after,.clearfix:before{content:" ";display:table}.clearfix:after{clear:both}.list-unstyled{margin:0;padding:0;list-style-type:none}.no-select{-webkit-user-select:none;-moz-user-select:none;user-select:none}.no-resize{resize:none}.hand{cursor:pointer;cursor:hand}.fixed{table-layout:fixed}.clip{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.clip,.force-wrap{word-wrap:break-word}.force-wrap{white-space:normal}.bordered-section{border-bottom:1px solid var(--border);margin-bottom:20px;padding-bottom:20px}.section-divider{margin-bottom:20px;margin-top:20px}.card-container{border-radius:var(--border-radius);display:flex;flex-basis:40%;margin:10px;min-height:100px;padding:10px;box-shadow:0 0 20px var(--shadow)}.card-container.highlight-border{border-left:5px solid var(--primary)}.card-container:not(.top){align-items:top;flex-direction:row;justify-content:start}.card-container .card-wrap{width:100%}.card-container .card-body{color:var(--input-label);display:flex;flex-direction:column;justify-content:center}.card-container .card-actions{align-self:end;display:flex;padding-top:20px}.card-container .card-title{align-items:center;display:flex;width:100%}.card-container .card-title h5{margin:0}.card-container .card-title .flex-right{margin-left:auto}.card-container.card-sticky{overflow:hidden}.card-container.card-sticky .card-wrap{display:flex;flex-direction:column}.card-container.card-sticky .card-wrap .card-body{justify-content:flex-start;overflow:scroll}.card-container.card-sticky .card-wrap>*{flex:0}.card-container.card-sticky .card-wrap .card-body{flex:1}',""]),e.exports=t},"93b5":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.$fetchState.pending?a("Loading",{attrs:{delayed:!0}}):e.errors.length?a("div",e._l(e.errors,(function(t,s){return a("div",{key:s},[a("Banner",{attrs:{color:"error",label:e.stringify(t)}})],1)})),0):a("div",[a("Card",{staticClass:"m-0 mt-20",attrs:{"show-highlight-border":!1,"show-actions":!1}},[a("h4",{staticClass:"text-default-text mb-5",attrs:{slot:"title"},slot:"title"},[e._v(" "+e._s(e.t("cluster.machineConfig.vsphere.scheduling.label"))+" "),a("p",{staticClass:"text-muted text-small"},[e._v(" "+e._s(e.t("cluster.machineConfig.vsphere.scheduling.description"))+" ")])]),a("div",{attrs:{slot:"body"},slot:"body"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col span-6"},[a("LabeledSelect",{attrs:{loading:e.dataCentersLoading,mode:e.mode,options:e.dataCenters,label:e.t("cluster.machineConfig.vsphere.scheduling.dataCenter"),disabled:e.disabled},model:{value:e.value.datacenter,callback:function(t){e.$set(e.value,"datacenter",t)},expression:"value.datacenter"}})],1),a("div",{staticClass:"col span-6"},[a("LabeledSelect",{attrs:{loading:e.resourcePoolsLoading,mode:e.mode,options:e.resourcePools,label:e.t("cluster.machineConfig.vsphere.scheduling.resourcePool"),disabled:e.disabled},model:{value:e.value.pool,callback:function(t){e.$set(e.value,"pool",t)},expression:"value.pool"}})],1)]),a("div",{staticClass:"row mt-10"},[a("div",{staticClass:"col span-6"},[a("LabeledSelect",{attrs:{loading:e.dataStoresLoading,mode:e.mode,options:e.dataStores,label:e.t("cluster.machineConfig.vsphere.scheduling.dataStore"),disabled:e.disabled},model:{value:e.value.datastore,callback:function(t){e.$set(e.value,"datastore",t)},expression:"value.datastore"}})],1),a("div",{staticClass:"col span-6"},[a("LabeledSelect",{attrs:{loading:e.foldersLoading,mode:e.mode,options:e.folders,label:e.t("cluster.machineConfig.vsphere.scheduling.folder"),disabled:e.disabled},model:{value:e.value.folder,callback:function(t){e.$set(e.value,"folder",t)},expression:"value.folder"}})],1)]),a("div",{staticClass:"row mt-10"},[a("div",{staticClass:"col span-12"},[a("LabeledSelect",{attrs:{loading:e.hostsLoading,mode:e.mode,options:e.hosts,label:e.t("cluster.machineConfig.vsphere.scheduling.host.label"),disabled:e.disabled},model:{value:e.host,callback:function(t){e.host=t},expression:"host"}}),a("p",{staticClass:"text-muted mt-5"},[e._v(" "+e._s(e.t("cluster.machineConfig.vsphere.scheduling.host.note"))+" ")])],1)])])]),a("Card",{staticClass:"m-0 mt-20",attrs:{"show-highlight-border":!1,"show-actions":!1}},[a("h4",{staticClass:"text-default-text mb-5",attrs:{slot:"title"},slot:"title"},[e._v(" "+e._s(e.t("cluster.machineConfig.vsphere.instanceOptions.label"))+" "),a("p",{staticClass:"text-muted text-small"},[e._v(" "+e._s(e.t("cluster.machineConfig.vsphere.instanceOptions.description"))+" ")])]),a("div",{attrs:{slot:"body"},slot:"body"},[a("div",{staticClass:"row mt-10"},[a("div",{staticClass:"col span-6"},[a("UnitInput",{attrs:{mode:e.mode,label:e.t("cluster.machineConfig.vsphere.instanceOptions.cpus"),suffix:e.t("suffix.cores"),disabled:e.disabled},model:{value:e.cpuCount,callback:function(t){e.cpuCount=t},expression:"cpuCount"}})],1),a("div",{staticClass:"col span-6"},[a("UnitInput",{attrs:{mode:e.mode,label:e.t("cluster.machineConfig.vsphere.instanceOptions.memory"),suffix:e.t("suffix.mib"),disabled:e.disabled},model:{value:e.memorySize,callback:function(t){e.memorySize=t},expression:"memorySize"}})],1)]),a("div",{staticClass:"row mt-10"},[a("div",{staticClass:"col span-6"},[a("UnitInput",{attrs:{mode:e.mode,label:e.t("cluster.machineConfig.vsphere.instanceOptions.disk"),suffix:e.t("suffix.mib"),disabled:e.disabled},model:{value:e.diskSize,callback:function(t){e.diskSize=t},expression:"diskSize"}})],1),a("div",{staticClass:"col span-6"},[a("LabeledSelect",{attrs:{mode:e.mode,options:e.osOptions,label:e.t("cluster.machineConfig.vsphere.instanceOptions.os"),disabled:e.disabled},model:{value:e.value.os,callback:function(t){e.$set(e.value,"os",t)},expression:"value.os"}})],1)]),a("div",{staticClass:"row mt-10"},[a("div",{staticClass:"col",class:e.showContentLibrary?"span-4":"span-6"},[a("LabeledSelect",{attrs:{mode:e.mode,options:e.creationMethods,label:e.t("cluster.machineConfig.vsphere.instanceOptions.creationMethod"),disabled:e.disabled},model:{value:e.value.creationType,callback:function(t){e.$set(e.value,"creationType",t)},expression:"value.creationType"}})],1),e.showTemplate?a("div",{staticClass:"col span-6"},[a("LabeledSelect",{attrs:{loading:e.templatesLoading,mode:e.mode,options:e.templates,label:e.t("cluster.machineConfig.vsphere.instanceOptions.template.label"),disabled:e.disabled,status:e.templateStatus,tooltip:e.templateTooltip},model:{value:e.value.cloneFrom,callback:function(t){e.$set(e.value,"cloneFrom",t)},expression:"value.cloneFrom"}})],1):e._e(),e.showContentLibrary?a("div",{staticClass:"col span-4"},[a("LabeledSelect",{attrs:{loading:e.contentLibrariesLoading,mode:e.mode,options:e.contentLibraries,label:e.t("cluster.machineConfig.vsphere.instanceOptions.contentLibrary"),disabled:e.disabled},model:{value:e.value.contentLibrary,callback:function(t){e.$set(e.value,"contentLibrary",t)},expression:"value.contentLibrary"}})],1):e._e(),e.showContentLibrary?a("div",{staticClass:"col span-4"},[a("LabeledSelect",{attrs:{loading:e.libraryTemplatesLoading,mode:e.mode,options:e.libraryTemplates,searchable:!0,label:e.t("cluster.machineConfig.vsphere.instanceOptions.libraryTemplate"),disabled:e.disabled},model:{value:e.value.cloneFrom,callback:function(t){e.$set(e.value,"cloneFrom",t)},expression:"value.cloneFrom"}})],1):e._e(),e.showVirtualMachines?a("div",{staticClass:"col span-6"},[a("LabeledSelect",{attrs:{loading:e.virtualMachinesLoading,mode:e.mode,options:e.virtualMachines,label:e.t("cluster.machineConfig.vsphere.instanceOptions.virtualMachine"),disabled:e.disabled},model:{value:e.value.cloneFrom,callback:function(t){e.$set(e.value,"cloneFrom",t)},expression:"value.cloneFrom"}})],1):e._e(),e.showIso?a("div",{staticClass:"col span-6"},[a("LabeledInput",{attrs:{mode:e.mode,label:e.t("cluster.machineConfig.vsphere.instanceOptions.osIsoUrl.label"),placeholder:e.t("cluster.machineConfig.vsphere.instanceOptions.osIsoUrl.placeholder"),disabled:e.disabled},model:{value:e.value.boot2dockerUrl,callback:function(t){e.$set(e.value,"boot2dockerUrl",t)},expression:"value.boot2dockerUrl"}})],1):e._e()]),e.showIso?a("div",{staticClass:"row mt-10"},[a("div",{staticClass:"col span-12"},[a("LabeledInput",{attrs:{mode:e.mode,label:e.t("cluster.machineConfig.vsphere.instanceOptions.cloudInit.label"),placeholder:e.t("cluster.machineConfig.vsphere.instanceOptions.cloudInit.placeholder"),disabled:e.disabled},model:{value:e.value.cloudinit,callback:function(t){e.$set(e.value,"cloudinit",t)},expression:"value.cloudinit"}}),a("p",{staticClass:"text-muted mt-5"},[e._v(" "+e._s(e.t("cluster.machineConfig.vsphere.instanceOptions.cloudInit.note"))+" ")])],1)]):e._e(),e.showCloudConfigYaml?a("div",{staticClass:"row mt-10"},[a("div",{staticClass:"col span-12"},[a("label",{staticClass:"text-label mt-0"},[e._v(e._s(e.t("cluster.machineConfig.vsphere.instanceOptions.cloudConfigYaml")))]),a("YamlEditor",{ref:"yaml-additional",staticClass:"yaml-editor",attrs:{"editor-mode":"view"===e.mode?"VIEW_CODE":"EDIT_CODE",disabled:e.disabled,"initial-yaml-values":"# Additional Manifest YAML"},model:{value:e.value.cloudConfig,callback:function(t){e.$set(e.value,"cloudConfig",t)},expression:"value.cloudConfig"}})],1)]):e._e(),a("div",{staticClass:"row mt-10"},[a("div",{staticClass:"col span-12"},[a("label",{staticClass:"text-label mt-0"},[e._v(" "+e._s(e.t("cluster.machineConfig.vsphere.networks.label"))+" ")]),a("ArrayListSelect",{attrs:{options:e.networks,"array-list-props":{addLabel:e.t("cluster.machineConfig.vsphere.networks.add")},loading:e.networksLoading,disabled:e.disabled},model:{value:e.value.network,callback:function(t){e.$set(e.value,"network",t)},expression:"value.network"}})],1)]),a("div",{staticClass:"row mt-10"},[a("div",{staticClass:"col span-12"},[a("label",{staticClass:"text-label mt-0"},[e._v(" "+e._s(e.t("cluster.machineConfig.vsphere.guestinfo.label"))+" ")]),a("KeyValue",{attrs:{"add-label":e.t("cluster.machineConfig.vsphere.guestinfo.add"),"key-placeholder":e.t("cluster.machineConfig.vsphere.guestinfo.keyPlaceholder"),"value-placeholder":e.t("cluster.machineConfig.vsphere.guestinfo.valuePlaceholder"),"read-allowed":!1,disabled:e.disabled},model:{value:e.cfgparam,callback:function(t){e.cfgparam=t},expression:"cfgparam"}})],1)])])]),e.haveTags?a("Card",{staticClass:"m-0 mt-20",attrs:{"show-highlight-border":!1,"show-actions":!1}},[a("h4",{staticClass:"text-default-text mb-5",attrs:{slot:"title"},slot:"title"},[e._v(" "+e._s(e.t("cluster.machineConfig.vsphere.tags.label"))+" "),a("p",{staticClass:"text-muted text-small"},[e._v(" "+e._s(e.t("cluster.machineConfig.vsphere.tags.description"))+" ")])]),a("div",{attrs:{slot:"body"},slot:"body"},[a("ArrayListSelect",{attrs:{options:e.tags,"array-list-props":{addLabel:e.t("cluster.machineConfig.vsphere.tags.addTag")},loading:e.tagsLoading,disabled:e.disabled},model:{value:e.value.tag,callback:function(t){e.$set(e.value,"tag",t)},expression:"value.tag"}})],1)]):e._e(),e.haveAttributes?a("Card",{staticClass:"m-0 mt-20",attrs:{"show-highlight-border":!1,"show-actions":!1}},[a("h4",{staticClass:"text-default-text mb-5",attrs:{slot:"title"},slot:"title"},[e._v(" "+e._s(e.t("cluster.machineConfig.vsphere.customAttributes.label"))+" "),a("p",{staticClass:"text-muted text-small"},[e._v(" "+e._s(e.t("cluster.machineConfig.vsphere.customAttributes.description"))+" ")])]),a("div",{attrs:{slot:"body"},slot:"body"},[a("KeyValue",{attrs:{"key-options":e.attributeKeys,options:e.tags,"add-label":e.t("cluster.machineConfig.vsphere.customAttributes.add"),"read-allowed":!1,loading:e.attributeKeysLoading,"key-taggable":!1,"key-option-unique":!0,disabled:e.disabled},model:{value:e.customAttribute,callback:function(t){e.customAttribute=t},expression:"customAttribute"}})],1)]):e._e(),a("Card",{staticClass:"m-0 mt-20",attrs:{"show-highlight-border":!1,"show-actions":!1}},[a("h4",{staticClass:"text-default-text mb-5",attrs:{slot:"title"},slot:"title"},[e._v(" "+e._s(e.t("cluster.machineConfig.vsphere.vAppOptions.label"))+" "),a("p",{staticClass:"text-muted text-small"},[e._v(" "+e._s(e.t("cluster.machineConfig.vsphere.vAppOptions.description"))+" ")])]),a("div",{attrs:{slot:"body"},slot:"body"},[a("div",{staticClass:"row mb-10"},[a("div",{staticClass:"col span-6"},[a("RadioGroup",{attrs:{name:"restoreMode",label:e.t("cluster.machineConfig.vsphere.vAppOptions.restoreType"),options:e.vAppOptions,disabled:e.disabled},model:{value:e.vappMode,callback:function(t){e.vappMode=t},expression:"vappMode"}})],1)]),e.showManual?a("div",{staticClass:"row mb-10"},[a("div",{staticClass:"col span-4"},[a("LabeledInput",{attrs:{mode:e.mode,label:e.t("cluster.machineConfig.vsphere.vAppOptions.transport.label"),tooltip:e.t("cluster.machineConfig.vsphere.vAppOptions.transport.tooltip"),placeholder:e.t("cluster.machineConfig.vsphere.vAppOptions.transport.placeholder"),disabled:e.disabled},model:{value:e.value.vappTransport,callback:function(t){e.$set(e.value,"vappTransport",t)},expression:"value.vappTransport"}})],1),a("div",{staticClass:"col span-4"},[a("LabeledInput",{attrs:{mode:e.mode,label:e.t("cluster.machineConfig.vsphere.vAppOptions.protocol.label"),tooltip:e.t("cluster.machineConfig.vsphere.vAppOptions.protocol.tooltip"),placeholder:e.t("cluster.machineConfig.vsphere.vAppOptions.protocol.placeholder"),disabled:e.disabled},model:{value:e.value.vappIpprotocol,callback:function(t){e.$set(e.value,"vappIpprotocol",t)},expression:"value.vappIpprotocol"}})],1),a("div",{staticClass:"col span-4"},[a("LabeledInput",{attrs:{mode:e.mode,label:e.t("cluster.machineConfig.vsphere.vAppOptions.allocation.label"),tooltip:e.t("cluster.machineConfig.vsphere.vAppOptions.allocation.tooltip"),placeholder:e.t("cluster.machineConfig.vsphere.vAppOptions.allocation.placeholder"),disabled:e.disabled},model:{value:e.value.vappIpallocationpolicy,callback:function(t){e.$set(e.value,"vappIpallocationpolicy",t)},expression:"value.vappIpallocationpolicy"}})],1)]):e._e(),e.showManual?a("div",{staticClass:"row"},[a("div",{staticClass:"col span-12"},[a("KeyValue",{attrs:{title:e.t("cluster.machineConfig.vsphere.vAppOptions.properties.label"),"key-placeholder":e.t("cluster.machineConfig.vsphere.vAppOptions.properties.keyPlaceholder"),"value-placeholder":e.t("cluster.machineConfig.vsphere.vAppOptions.properties.valuePlaceholder"),"add-label":e.t("cluster.machineConfig.vsphere.vAppOptions.properties.add"),"read-allowed":!1,disabled:e.disabled},model:{value:e.vappProperty,callback:function(t){e.vappProperty=t},expression:"vappProperty"}})],1)]):e._e()])])],1)},l=[],o=a("15ca"),i=a("305c"),r=a("466b"),n=a("3e9d"),c=a("6418"),d=a("4978"),p=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"card-container",class:{"highlight-border":e.showHighlightBorder,"card-sticky":e.sticky}},[a("div",{staticClass:"card-wrap"},[a("div",{staticClass:"card-title",attrs:{"data-testid":"card-title-slot"}},[e._t("title",(function(){return[e._v(" "+e._s(e.title)+" ")]}))],2),a("hr"),a("div",{staticClass:"card-body",attrs:{"data-testid":"card-body-slot"}},[e._t("body",(function(){return[e._v(" "+e._s(e.content)+" ")]}))],2),e.showActions?a("div",{staticClass:"card-actions",attrs:{"data-testid":"card-actions-slot"}},[e._t("actions",(function(){return[a("button",{staticClass:"btn role-primary",on:{click:e.buttonAction}},[e._v(" "+e._s(e.buttonText)+" ")])]}))],2):e._e()])])},u=[],h=a("8bbf"),v=a.n(h),m=v.a.extend({name:"Card",props:{title:{type:String,default:""},content:{type:String,default:""},buttonAction:{type:Function,default:()=>{}},buttonText:{type:String,default:"go"},showHighlightBorder:{type:Boolean,default:!0},showActions:{type:Boolean,default:!0},sticky:{type:Boolean,default:!1}}}),b=m,f=(a("9d19"),a("d802")),g=Object(f["a"])(b,p,u,!1,null,null,null),y=g.exports,C=a("e143"),O=a("a232"),w=a("8e93"),x=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ArrayList",e._b({staticClass:"array-list-select",attrs:{value:e.value,"add-allowed":e.addAllowed||e.loading,loading:e.loading},on:{input:function(t){return e.$emit("input",t)}},scopedSlots:e._u([{key:"columns",fn:function(t){return[a("Select",e._b({attrs:{value:t.row.value,options:e.calculateOptions(t.row.value)},on:{input:function(a){return e.updateRow(t.i,a)}}},"Select",e.selectProps,!1))]}}])},"ArrayList",e.arrayListProps,!1))},T=[],L=a("977f"),k=a("47ab"),A={components:{ArrayList:L["a"],Select:k["a"]},props:{value:{type:Array,required:!0},options:{default:null,type:Array},selectProps:{type:Object,default:null},arrayListProps:{type:Object,default:null},loading:{type:Boolean,default:!1}},computed:{filteredOptions(){return this.options.filter(e=>!this.value.includes(e.value))},addAllowed(){return this.filteredOptions.length>0}},methods:{updateRow(e,t){this.value.splice(e,1,t),this.$emit(t)},calculateOptions(e){const t=this.options.find(t=>t.value===e);return t?[t,...this.filteredOptions]:this.filteredOptions}}},_=A,I=(a("2d99"),Object(f["a"])(_,x,T,!1,null,"0749f52c",null)),j=I.exports,S=a("870a"),R=a("e24b");const{set:P,get:$}=a("e24b");function M(e){return{get(){return Number.parseFloat($(this,e))},set(t){P(this,e,t.toString(10))}}}function V(e,t="="){return{get(){var a;const s={};return null===(a=$(this,e))||void 0===a||a.forEach(e=>{const[a,l]=e.split(t);s[a]=l}),s},set(a){const s=Object.entries(a).map(([e,a])=>`${e}${t}${a}`);P(this,e,s)}}}var E=a("da25");const U="__SENTINEL__",F={DISABLED:"disabled",AUTO:"auto",MANUAL:"manual"},N={TEMPLATE:"template",LIBRARY:"library",VM:"vm",LEGACY:"legacy"},q="https://releases.rancher.com/os/latest/rancheros-vmware.iso",z={vappIpprotocol:"",vappIpallocationpolicy:"",vappTransport:"",vappProperty:[]},D=["linux","windows"],B=["disk.enableUUID=TRUE"],K=e=>({vappIpprotocol:"IPv4",vappIpallocationpolicy:"fixedAllocated",vappTransport:"com.vmware.guestInfo",vappProperty:H(e)}),Y=(e,t)=>{const a=t.indexOf("=");return a>-1&&e.push({key:t.slice(0,a),value:t.slice(a+1)}),e},H=e=>0===e.length?[]:e.reduce(G,[`guestinfo.dns.servers=\${dns:${e[0]}}`,`guestinfo.dns.domains=\${searchPath:${e[0]}}`]),G=(e,t,a)=>{const s=a.toString();return e.push(`guestinfo.interface.${s}.ip.0.address=ip:${t}`,`guestinfo.interface.${s}.ip.0.netmask=\${netmask:${t}}`,`guestinfo.interface.${s}.route.0.gateway=\${gateway:${t}}`),e},J=e=>{const t=e.vappProperty||[];if(!e.vappIpprotocol&&!e.vappIpallocationpolicy&&!e.vappTransport&&0===t.length)return F.DISABLED;const a=K(e.network);return e.vappIpprotocol===a.vappIpprotocol&&e.vappIpallocationpolicy===a.vappIpallocationpolicy&&e.vappTransport===a.vappTransport&&t.length===a.vappProperty.length&&t.join()===a.vappProperty.join()?F.AUTO:F.MANUAL};function W(e){return{[e](){return this[e+"Results"]||[]},[e+"Loading"](){return null===this[e+"Results"]}}}var Q={components:{ArrayListSelect:j,Card:y,KeyValue:O["a"],Loading:o["a"],LabeledInput:w["a"],LabeledSelect:r["a"],Banner:c["a"],UnitInput:d["a"],RadioGroup:C["a"],YamlEditor:S["b"]},mixins:[i["a"]],props:{credentialId:{type:String,required:!0},disabled:{type:Boolean,default:!1}},async fetch(){this.errors=[];try{const e=!!this.value.datacenter;await this.loadDataCenters(),e&&this.loadAllDatacenterResources()}catch(e){this.errors=Object(n["c"])(e)}},data(){const e=[{label:this.t("cluster.machineConfig.vsphere.vAppOptions.disable"),value:F.DISABLED},{label:this.t("cluster.machineConfig.vsphere.vAppOptions.auto"),value:F.AUTO},{label:this.t("cluster.machineConfig.vsphere.vAppOptions.manual"),value:F.MANUAL}],t=[{label:this.t("cluster.machineConfig.vsphere.creationMethods.template"),value:N.TEMPLATE},{label:this.t("cluster.machineConfig.vsphere.creationMethods.library"),value:N.LIBRARY},{label:this.t("cluster.machineConfig.vsphere.creationMethods.vm"),value:N.VM},{label:this.t("cluster.machineConfig.vsphere.creationMethods.legacy"),value:N.LEGACY}];return this.mode!==E["m"]||this.value.initted||(Object.defineProperty(this.value,"initted",{value:!0,enumerable:!1}),Object(R["set"])(this.value,"creationType",t[0].value),Object(R["set"])(this.value,"cpuCount","2"),Object(R["set"])(this.value,"diskSize","20000"),Object(R["set"])(this.value,"memorySize","4096"),Object(R["set"])(this.value,"hostsystem",""),Object(R["set"])(this.value,"cloudConfig","#cloud-config\n\n"),Object(R["set"])(this.value,"cfgparam",B),Object(R["set"])(this.value,"vappProperty",this.value.vappProperty),Object(R["set"])(this.value,"os",D[0]),Object.entries(z).forEach(([e,t])=>{Object(R["set"])(this.value,e,t)})),{initted:!1,credential:null,creationMethods:t,dataCentersResults:null,resourcePoolsResults:null,dataStoresResults:null,dataStoreClustersResults:null,foldersResults:null,hostsResults:null,templatesResults:null,contentLibrariesResults:null,libraryTemplatesResults:null,virtualMachinesResults:null,showTemplatesResults:null,tagsResults:null,attributeKeysResults:null,networksResults:null,haveTags:null,haveAttributes:null,haveTemplates:null,vAppOptions:e,vappMode:J(this.value),osOptions:D}},computed:{...W("dataCenters"),...W("resourcePools"),...W("dataStores"),...W("dataStoreClusters"),...W("folders"),...W("hosts"),...W("templates"),...W("contentLibraries"),...W("libraryTemplates"),...W("virtualMachines"),...W("showTemplates"),...W("tags"),...W("attributeKeys"),...W("networks"),showTemplate(){return"template"===this.value.creationType},showContentLibrary(){return"library"===this.value.creationType},showVirtualMachines(){return"vm"===this.value.creationType},showIso(){return"legacy"===this.value.creationType},showManual(){return"manual"===this.vappMode},failedToLoadTemplates(){return!this.templatesLoading&&!this.haveTemplates},templateStatus(){return this.failedToLoadTemplates?"error":null},templateTooltip(){return this.failedToLoadTemplates?this.t("cluster.machineConfig.vsphere.instanceOptions.template.none"):null},host:{get(){return""===this.value.hostsystem?U:this.value.hostsystem},set(e){const t=e===U?"":e;Object(R["set"])(this.value,"hostsystem",t)}},customAttribute:V("value.customAttribute"),vappProperty:V("value.vappProperty"),cfgparam:V("value.cfgparam"),cpuCount:M("value.cpuCount"),memorySize:M("value.memorySize"),diskSize:M("value.diskSize"),showCloudConfigYaml(){return"legacy"!==this.value.creationType}},watch:{credentialId(e,t){e!==t&&this.$fetch()},"value.datacenter"(){this.loadAllDatacenterResources()},"value.contentLibrary"(){this.loadLibraryTemplates()},"value.creationType"(e){Object(R["set"])(this.value,"cloneFrom","");const t=e===N.LEGACY?q:"";Object(R["set"])(this.value,"boot2dockerUrl",t)},vappMode(e){if(e===F.AUTO){const e=K(this.value.network);return this.updateVappOptions(e)}this.updateVappOptions(z)}},methods:{stringify:n["d"],async requestOptions(e,t,a){const s=["tag-categories","tags","data-centers","custom-attributes"];if(!this.credentialId||!s.includes(e)&&!t)return[];const l=Object.entries({cloudCredentialId:this.credentialId,dataCenter:t,library:a}).filter(e=>e[1]).map(e=>`${e[0]}=${e[1]}`).join("&"),o=`/meta/vsphere/${e}?${l}`,i=await this.$store.dispatch("management/request",{url:o,redirectUnauthorized:!1},{root:!0});return i.data},async loadDataCenters(){const e=await this.requestOptions("data-centers"),t=this.mapPathOptionsToContent(e),a=t.find(e=>e.value===this.value.datacenter);a||(Object(R["set"])(this.value,"datacenter",e[0]),Object(R["set"])(this.value,"cloneFrom",void 0),Object(R["set"])(this.value,"useDataStoreCluster",!1)),Object(R["set"])(this,"dataCentersResults",t)},async loadTags(){try{Object(R["set"])(this,"tagsResults",null);const e=this.requestOptions("tag-categories"),t=this.requestOptions("tags"),[a,s]=await Promise.all([e,t]),l=this.mapTagsToContent(s).map(e=>({...e,category:a.find(t=>t.name===e.category)}));this.resetValueIfNecessary("tag",l,s,!0),Object(R["set"])(this,"tagsResults",l),this.haveTags=!0}catch(e){this.haveTags=!1}},async loadCustomAttributes(){try{Object(R["set"])(this,"attributeKeysResults",null);const e=await this.requestOptions("custom-attributes");Object(R["set"])(this,"attributeKeysResults",this.mapCustomAttributesToContent(e)),this.haveAttributes=!0}catch(e){this.haveAttributes=!1}},async loadHosts(){Object(R["set"])(this,"hostsResults",null);const e=await this.requestOptions("hosts",this.value.datacenter),t=this.mapHostOptionsToContent(e);this.resetValueIfNecessary("hostsystem",t,e),Object(R["set"])(this,"hostsResults",t)},async loadResourcePools(){Object(R["set"])(this,"resourcePoolsResults",null);const e=await this.requestOptions("resource-pools",this.value.datacenter),t=this.mapPoolOptionsToContent(e);this.resetValueIfNecessary("pool",t,e),Object(R["set"])(this,"resourcePoolsResults",t)},async loadDataStores(){Object(R["set"])(this,"dataStoresResults",null);const e=await this.requestOptions("data-stores",this.value.datacenter),t=this.mapPathOptionsToContent(e);this.resetValueIfNecessary("datastore",t,e),Object(R["set"])(this,"dataStoresResults",t)},async loadDataStoreClusters(){Object(R["set"])(this,"dataStoreResults",null);const e=await this.requestOptions("data-store-clusters",this.value.datacenter),t=this.mapPathOptionsToContent(e);this.resetValueIfNecessary("datastoreCluster",t,e),Object(R["set"])(this,"dataStoreClustersResults",t)},async loadFolders(){Object(R["set"])(this,"foldersResults",null);const e=await this.requestOptions("folders",this.value.datacenter),t=this.mapFolderOptionsToContent(e);this.resetValueIfNecessary("folder",t,e),Object(R["set"])(this,"foldersResults",t)},async loadNetworks(){Object(R["set"])(this,"networksResults",null);const e=await this.requestOptions("networks",this.value.datacenter),t=this.mapPathOptionsToContent(e);this.resetValueIfNecessary("network",t,e,!0),Object(R["set"])(this,"networksResults",t)},async loadContentLibraries(){Object(R["set"])(this,"contentLibrariesResults",null);const e=await this.requestOptions("content-libraries",this.value.datacenter),t=this.mapPathOptionsToContent(e).filter(e=>""!==e.value);this.resetValueIfNecessary("contentLibrary",t,e),Object(R["set"])(this,"contentLibrariesResults",t)},async loadLibraryTemplates(){Object(R["set"])(this,"libraryTemplatesResults",null);const e=this.value.contentLibrary;if(!e)return[];const t=await this.requestOptions("library-templates",this.value.datacenter,e),a=this.mapPathOptionsToContent(t);this.showContentLibrary&&this.resetValueIfNecessary("cloneFrom",a,t),Object(R["set"])(this,"libraryTemplatesResults",a)},async loadVirtualMachines(){Object(R["set"])(this,"virtualMachinesResults",null);const e=await this.requestOptions("virtual-machines",this.value.datacenter),t=this.mapPathOptionsToContent(e);this.showVirtualMachines&&this.resetValueIfNecessary("cloneFrom",t,e),Object(R["set"])(this,"virtualMachinesResults",t)},async loadTemplates(){try{Object(R["set"])(this,"templatesResults",null);const e=await this.requestOptions("templates",this.value.datacenter),t=this.mapPathOptionsToContent(e);this.showTemplate&&this.resetValueIfNecessary("cloneFrom",t,e),Object(R["set"])(this,"templatesResults",t),this.haveTemplates=!0}catch(e){this.haveTemplates=!1}},loadAllDatacenterResources(){this.loadResourcePools(),this.loadDataStores(),this.loadFolders(),this.loadHosts(),this.loadTemplates(),this.loadTags(),this.loadCustomAttributes(),this.loadContentLibraries(),this.loadLibraryTemplates(),this.loadVirtualMachines(),this.loadNetworks()},resetValueIfNecessary(e,t,a,s=!1){const l=()=>s?this.value[e].every(e=>t.find(t=>t.value===e)):t.find(t=>t.value===this.value[e]);if(!l()){var o;const a=s?[]:null===(o=t[0])||void 0===o?void 0:o.value;a!==U&&Object(R["set"])(this.value,e,a)}},mapPathOptionsToContent(e){return(e||[]).map(e=>{const t=e.split("/");return{label:t[t.length-1],value:e}})},mapHostOptionsToContent(e){return this.mapPathOptionsToContent(e).map(e=>""===e.value?{label:this.t("cluster.machineConfig.vsphere.hostOptions.any"),value:U}:e)},mapFolderOptionsToContent(e){return e.map(e=>({label:e||" ",value:e||""}))},mapPoolOptionsToContent(e){return e.map(e=>{const t=e.split("/"),a=t.slice(2).join("/");return{label:a,value:e}})},mapCustomAttributesToContent(e){return e.map(e=>({label:e.name,value:e.key.toString()}))},mapTagsToContent(e){return e.map(e=>({...e,label:`${e.category} / ${e.name}`,value:e.id}))},initKeyValueParams(e,t){Object(R["set"])(this,t,(Object(R["get"])(this,e)||[]).reduce(Y,[]))},updateVappOptions(e){Object(R["set"])(this.value,"vappIpprotocol",e.vappIpprotocol),Object(R["set"])(this.value,"vappIpallocationpolicy",e.vappIpallocationpolicy),Object(R["set"])(this.value,"vappTransport",e.vappTransport),Object(R["set"])(this.value,"vappProperty",e.vappProperty),this.initKeyValueParams("value.vappProperty","initVappArray")}}},X=Q,Z=Object(f["a"])(X,s,l,!1,null,null,null);t["default"]=Z.exports},"9d19":function(e,t,a){"use strict";a("bfcd")},bfcd:function(e,t,a){var s=a("862e");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);var l=a("0ed3").default;l("4c7dbe1a",s,!0,{sourceMap:!1,shadowMode:!1})}}]);
//# sourceMappingURL=elemental-1.0.0.umd.min.vendors~machine-config12.js.map