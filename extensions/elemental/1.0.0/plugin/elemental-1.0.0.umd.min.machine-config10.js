(("undefined"!==typeof self?self:this)["webpackJsonpelemental_1_0_0"]=("undefined"!==typeof self?self:this)["webpackJsonpelemental_1_0_0"]||[]).push([[1],{f3b9:function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.$fetchState.pending?i("Loading",{attrs:{delayed:!0}}):e.errors.length?i("div",e._l(e.errors,(function(t,a){return i("div",{key:a},[i("Banner",{attrs:{color:"error",label:e.stringify(t)}})],1)})),0):i("div",[i("div",{staticClass:"row mt-20"},[i("div",{staticClass:"col span-6"},[i("LabeledSelect",{attrs:{mode:e.mode,options:e.regionOptions,searchable:!0,required:!0,disabled:e.disabled,label:"Region"},model:{value:e.value.region,callback:function(t){e.$set(e.value,"region",t)},expression:"value.region"}})],1),i("div",{staticClass:"col span-6"},[i("LabeledSelect",{attrs:{mode:e.mode,options:e.instanceOptions,searchable:!0,required:!0,disabled:e.disabled,label:"Type"},model:{value:e.value.instanceType,callback:function(t){e.$set(e.value,"instanceType",t)},expression:"value.instanceType"}})],1)]),i("div",{staticClass:"row mt-20"},[i("div",{staticClass:"col span-6"},[i("LabeledSelect",{attrs:{mode:e.mode,options:e.imageOptions,searchable:!0,required:!0,disabled:e.disabled,label:"OS Image"},model:{value:e.value.image,callback:function(t){e.$set(e.value,"image",t)},expression:"value.image"}})],1),i("div",{staticClass:"col span-6 pt-5"},[i("h3",[e._v("Additional Linode Options")]),i("Checkbox",{attrs:{mode:e.mode,disabled:e.disabled,label:"Private Networking"},model:{value:e.value.createPrivateIp,callback:function(t){e.$set(e.value,"createPrivateIp",t)},expression:"value.createPrivateIp"}})],1)])])},s=[],n=i("907c"),l=i("3e9d"),d=i("da25"),o=i("305c"),r=i("15ca"),c=i("6418"),u=i("466b"),p=i("0df0"),h={components:{Loading:r["a"],Banner:c["a"],LabeledSelect:u["a"],Checkbox:p["a"]},mixins:[o["a"]],props:{credentialId:{type:String,required:!0},disabled:{type:Boolean,default:!1}},async fetch(){this.errors=[];try{this.credentialId&&(this.credential=await this.$store.dispatch("rancher/find",{type:n["u"].CLOUD_CREDENTIAL,id:this.credentialId}))}catch(a){this.credential=null}try{var e;this.regionOptions=await this.$store.dispatch("linode/regionOptions",{credentialId:this.credentialId});let a="us-west";var t;if(!this.regionOptions.find(e=>e.value===a))a=null===(t=this.regionOptions[0])||void 0===t?void 0:t.value;const s=this.value.region||(null===(e=this.credential)||void 0===e?void 0:e.defaultRegion)||a;this.value.region||(this.value.region=s),this.instanceOptions=await this.$store.dispatch("linode/instanceOptions",{credentialId:this.credentialId});let n="g6-standard-2";var i;if(!this.instanceOptions.find(e=>e.value===n))n=null===(i=this.instanceOptions.find(e=>e.memoryGb>=4))||void 0===i?void 0:i.value,n||(n=this.instanceOptions[0].value);this.value.instanceType||(this.value.instanceType=n),this.imageOptions=await this.$store.dispatch("linode/imageOptions",{credentialId:this.credentialId});let l="linode/ubuntu20.04";this.imageOptions.find(e=>e.value===l)||(l=this.imageOptions[0].value),this.value.image||(this.value.image=l),this.updateInterfaces()}catch(a){this.errors=Object(l["c"])(a)}},data(){return{credential:null,regionOptions:null,instanceOptions:null,imageOptions:null}},watch:{credentialId(){this.$fetch()}},computed:{isCreate(){return this.mode===d["m"]}},methods:{stringify:l["d"],updateInterfaces(){this.value.interfaces||(this.value.interfaces=[])}}},v=h,f=i("d802"),m=Object(f["a"])(v,a,s,!1,null,null,null);t["default"]=m.exports}}]);
//# sourceMappingURL=elemental-1.0.0.umd.min.machine-config10.js.map